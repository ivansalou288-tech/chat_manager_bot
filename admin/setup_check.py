"""
CHECKLIST Ğ£Ğ¡Ğ¢ĞĞĞĞ’ĞšĞ˜ Ğ˜ Ğ—ĞĞŸĞ£Ğ¡ĞšĞ MINIAPP ĞĞ”ĞœĞ˜Ğ-ĞŸĞĞĞ•Ğ›Ğ˜

Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°
Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Telegram Mini App.
"""

# ============================================================
# Ğ­Ğ¢ĞĞŸ 1: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ¤ĞĞ™Ğ›ĞĞ’ Ğ˜ Ğ—ĞĞ’Ğ˜Ğ¡Ğ˜ĞœĞĞ¡Ğ¢Ğ•Ğ™
# ============================================================

print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘        ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ£Ğ¡Ğ¢ĞĞĞĞ’ĞšĞ˜ MINIAPP ĞĞ”ĞœĞ˜Ğ-ĞŸĞĞĞ•Ğ›Ğ˜           â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ­Ğ¢ĞĞŸ 1ï¸âƒ£: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ¤ĞĞ™Ğ›ĞĞ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")

import os
import sys
from pathlib import Path

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹
files_to_check = [
    ('admin/admin_api.py', 'API ÑĞµÑ€Ğ²ĞµÑ€'),
    ('admin/admin_integration.py', 'Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼'),
    ('admin/admin_bot.py', 'ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ±Ğ¾Ñ‚'),
    ('admin/app/index.html', 'Mini App Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ'),
    ('admin/ADMIN_API_README.md', 'Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API'),
    ('admin/README_MINIAPP.md', 'ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ'),
    ('admin/test_api.py', 'Ğ¢ĞµÑÑ‚Ñ‹'),
]

admin_dir = Path(__file__).parent
missing_files = []

for file_path, description in files_to_check:
    full_path = admin_dir / file_path
    if full_path.exists():
        print(f"  âœ“ {description}: {file_path}")
    else:
        print(f"  âœ— ĞĞ¢Ğ¡Ğ£Ğ¢Ğ¡Ğ¢Ğ’Ğ£Ğ•Ğ¢: {file_path}")
        missing_files.append(file_path)

if missing_files:
    print(f"\nâš ï¸  ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ {len(missing_files)} Ñ„Ğ°Ğ¹Ğ»(Ğ¾Ğ²)!")
    sys.exit(1)
else:
    print("\nâœ“ Ğ’ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ½Ğ° Ğ¼ĞµÑÑ‚Ğµ!")

# ============================================================
# Ğ­Ğ¢ĞĞŸ 2: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ—ĞĞ’Ğ˜Ğ¡Ğ˜ĞœĞĞ¡Ğ¢Ğ•Ğ™
# ============================================================

print("""
Ğ­Ğ¢ĞĞŸ 2ï¸âƒ£: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ—ĞĞ’Ğ˜Ğ¡Ğ˜ĞœĞĞ¡Ğ¢Ğ•Ğ™
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")

required_packages = {
    'aiohttp': 'REST API ÑĞµÑ€Ğ²ĞµÑ€',
    'aiogram': 'Telegram Ğ±Ğ¾Ñ‚ Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº',
    'sqlite3': 'Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ)',
}

missing_packages = []

for package, description in required_packages.items():
    try:
        if package == 'sqlite3':
            import sqlite3
            print(f"  âœ“ {description}: {package}")
        else:
            __import__(package)
            print(f"  âœ“ {description}: {package}")
    except ImportError:
        print(f"  âœ— ĞĞ¢Ğ¡Ğ£Ğ¢Ğ¡Ğ¢Ğ’Ğ£Ğ•Ğ¢: {package}")
        missing_packages.append(package)

if missing_packages:
    print(f"\nâš ï¸  Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹:")
    print(f"  pip install {' '.join(missing_packages)}")
else:
    print("\nâœ“ Ğ’ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹!")

# ============================================================
# Ğ­Ğ¢ĞĞŸ 3: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ˜
# ============================================================

print("""
Ğ­Ğ¢ĞĞŸ 3ï¸âƒ£: ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ˜
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")

try:
    from admin.admin_config import can_admin_panel, main_path, klan, sost_1, sost_2
    
    print(f"  âœ“ Ğ¤Ğ°Ğ¹Ğ» ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½")
    print(f"  âœ“ ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹: {len(can_admin_panel)} ID")
    
    for admin_id in can_admin_panel:
        print(f"    - {admin_id}")
    
    if os.path.exists(main_path):
        print(f"  âœ“ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°: {main_path}")
    else:
        print(f"  âœ— Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ĞĞ• Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°: {main_path}")
    
    print(f"\n  ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ¾Ğ²:")
    print(f"    - ĞšĞ»Ğ°Ğ½: {klan}")
    print(f"    - 1-Ğ¹ ÑĞ¾ÑÑ‚Ğ°Ğ²: {sost_1}")
    print(f"    - 2-Ğ¹ ÑĞ¾ÑÑ‚Ğ°Ğ²: {sost_2}")
    
except ImportError as e:
    print(f"  âœ— ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸: {e}")
    sys.exit(1)

# ============================================================
# Ğ­Ğ¢ĞĞŸ 4: Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞšĞ¦Ğ˜Ğ˜ ĞŸĞ Ğ£Ğ¡Ğ¢ĞĞĞĞ’ĞšĞ•
# ============================================================

print("""
Ğ­Ğ¢ĞĞŸ 4ï¸âƒ£: Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞšĞ¦Ğ˜Ğ˜ ĞŸĞ Ğ£Ğ¡Ğ¢ĞĞĞĞ’ĞšĞ•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ¢Ğ•Ğ¡Ğ¢ĞĞ’ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾):
   
   python admin/test_api.py

2. Ğ—ĞĞŸĞ£Ğ¡Ğš API Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ ĞĞ¢Ğ”Ğ•Ğ›Ğ¬ĞĞ (Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸):
   
   python admin/admin_api.py --port 8080 --user-id 1240656726

3. Ğ—ĞĞŸĞ£Ğ¡Ğš ĞĞ”ĞœĞ˜Ğ-Ğ‘ĞĞ¢Ğ Ğ¡ Ğ˜ĞĞ¢Ğ•Ğ“Ğ Ğ˜Ğ ĞĞ’ĞĞĞĞ«Ğœ API:
   
   python admin/admin_bot.py

4. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ§Ğ¢Ğ Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢:
   
   # Ğ”Ğ¾Ğ»Ğ¶Ğ½Ñ‹ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ñ‚Ğ°ĞºĞ¸Ğµ ÑÑ‚Ñ€Ğ¾ĞºĞ¸:
   # start
   # âœ“ API ÑĞµÑ€Ğ²ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ Ğ½Ğ° http://0.0.0.0:8080 Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ 1240656726
   # start2

5. Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ• API (Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ):
   
   # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
   curl -X POST http://localhost:8080/api/check-access \\
     -H "Content-Type: application/json" \\
     -d '{"user_id": 1240656726}'
   
   # ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ²
   curl http://localhost:8080/api/users/klan
   
   # ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
   curl http://localhost:8080/api/permissions/klan

6. ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ¯ Ğ”Ğ›Ğ¯ PRODUCTION:
   
   Ğ’ Ñ„Ğ°Ğ¹Ğ»Ğµ admin/app/index.html Ğ½Ğ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ:
   
   const API_BASE_URL = 'http://localhost:8080/api';
   
   Ğ˜ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ²Ğ°Ñˆ Ğ´Ğ¾Ğ¼ĞµĞ½:
   
   const API_BASE_URL = 'https://your-domain.com/api';

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ¤ĞĞ™Ğ›Ğ«:

  ğŸ“„ admin/ADMIN_API_README.md
     â†’ ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ API Ğ¸ endpoints

  ğŸ“„ admin/README_MINIAPP.md
     â†’ ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

  ğŸ“„ admin/INTEGRATION_EXAMPLE.py
     â†’ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ¾Ğ² Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

  ğŸ“„ admin/test_api.py
     â†’ Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ’ĞĞ—ĞœĞĞ–ĞĞ«Ğ• ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ«:

  âš ï¸  "Port already in use" - Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ñ€Ñ‚:
      python admin_api.py --port 9000

  âš ï¸  "Access denied" - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ‡Ñ‚Ğ¾ Ğ²Ğ°Ñˆ ID Ğ² can_admin_panel

  âš ï¸  "Database not found" - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¿ÑƒÑ‚ÑŒ Ğº Base_bot.db

  âš ï¸  "aiohttp not found" - Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ:
      pip install aiohttp

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ‘Ğ«Ğ¡Ğ¢Ğ Ğ«Ğ™ Ğ¡Ğ¢ĞĞ Ğ¢:

  1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ±Ğ¾Ñ‚:
     python admin/admin_bot.py

  2. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Telegram Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ /start Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ±Ğ¾Ñ‚Ñƒ

  3. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "ĞĞ´Ğ¼Ğ¸Ğ½ - Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ"

  4. ĞÑ‚ĞºÑ€Ğ¾ĞµÑ‚ÑÑ Mini App Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ¼ Ğ´Ğ»Ñ 
     Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğ¸ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
""")

print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘         âœ“ ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ                      â•‘
â•‘                                                            â•‘
â•‘     Ğ’ÑĞµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ! Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ:             â•‘
â•‘                                                            â•‘
â•‘         python admin/admin_bot.py                         â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
""")
