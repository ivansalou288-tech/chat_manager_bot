# üöÄ CODE REFERENCE - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Chat-Manager Bot

**–î–∞—Ç–∞:** 20.12.2025 | **–í–µ—Ä—Å–∏—è:** 2.0 | **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üéØ –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –ö–û–î–£

### ‚≠ê –Ø–î–†–û –ë–û–¢–ê (–ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞!)

#### `main/config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:** klan, main_path, curent_path, bot, dp, ParseMode
- **API —Ç–æ–∫–µ–Ω—ã:** Telegram Bot Token
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** –ü—É—Ç–∏ –∫ sqlite3 –ë–î
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:** ID –∫–∞–Ω–∞–ª–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### `main/main_bot.py` - –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ (3174 —Å—Ç—Ä–æ–∫)
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `/start`, `/help` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –ø–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –≤ –∫–ª–∞–Ω–µ
- `successful_recom1()` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- `commands` callback - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π (–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –Ω–∞—á–∞–ª–µ)

**–ö–ª—é—á–µ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã:**
```python
from modules.farm import *
from modules.kasik import *
from modules.turnaments import *
from modules.mafia import *
from modules.cubes import *
from modules.message_top import *
from modules.obvinenie import *
from modules.rus_rulet import *
from modules.golden_rulet import *
from modules.who_is_who import *
from modules.hot_cold import register_hot_cold_handlers
from modules.bookmarks import *
```

#### `main/utils.py` - –£—Ç–∏–ª–∏—Ç—ã
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –†–∞–±–æ—Ç–∞ —Å –ë–î
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

---

## üéÆ –ú–û–î–£–õ–ò –ò–ì–†–´ (modules/)

### üìå Bookmarks - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∑–∞–∫–ª–∞–¥–∫–∏
**–§–∞–π–ª:** `modules/bookmarks.py`
**–ö–ª–∞—Å—Å:** `BookmarkManager`
**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `add_bookmark(user_id, message_id, text)` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
- `get_bookmarks(user_id)` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–ª–∞–¥–∫–∏
- `delete_bookmark(bookmark_id)` - –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
- `search_bookmarks(user_id, query)` - –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É

**–ë–î:** `bookmarks_data` —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏: `user_id, message_id, text, date`

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
from modules.bookmarks import BookmarkManager
bm = BookmarkManager()
bm.add_bookmark(user_id=123, message_id=456, text="–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ")
bookmarks = bm.get_bookmarks(123)
```

---

### üåæ Farm - –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–∏–Ω–æ–≤
**–§–∞–π–ª:** `modules/farm.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `get_coins()` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–∏–Ω—ã –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- `check_can_work()` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∞
- `add_coins_to_meshok(user_id, amount)` - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–∏–Ω—ã –≤ –º–µ—à–æ–∫
- `get_user_coins(user_id)` - –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å

**–ë–î —Ç–∞–±–ª–∏—Ü—ã:**
- `users_coins` - –ë–∞–ª–∞–Ω—Å –∫–æ–∏–Ω–æ–≤
- `farm_cooldown` - –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±–æ—Ä–∞

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–∏–Ω–æ–≤ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞: 50-150 –∫–æ–∏–Ω–æ–≤
- –ú–∞–∫—Å–∏–º—É–º –≤ –º–µ—à–∫–µ: 10,000 –∫–æ–∏–Ω–æ–≤

---

### üé≤ Cubes - –î—É—ç–ª—å –Ω–∞ –∫—É–±–∏–∫–∞—Ö
**–§–∞–π–ª:** `modules/cubes.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `create_duel(challenger_id, opponent_id, bet)` - –°–æ–∑–¥–∞—Ç—å –≤—ã–∑–æ–≤
- `accept_duel(duel_id)` - –ü—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤
- `roll_dice(duel_id)` - –ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫
- `finish_duel(duel_id)` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥—É—ç–ª—å

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –î–≤–∞ –∏–≥—Ä–æ–∫–∞ –∏–≥—Ä–∞—é—Ç –≤ –¥—É—ç–ª—å –Ω–∞ –∫–æ–∏–Ω—ã
- –ö–∞–∂–¥—ã–π –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É
- –ë—Ä–æ—Å–∞—é—Ç –∫—É–±–∏–∫, –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º
- –ò—Å—Ç–æ—Ä–∏—è –¥—É—ç–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–ë–î:** `duels_active`, `duels_history`

---

### üé∞ Kasik - –ö–∞–∑–∏–Ω–æ —Å–æ —Å–ª–æ—Ç-–º–∞—à–∏–Ω–∞–º–∏
**–§–∞–π–ª:** `modules/kasik.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `play_slots(user_id, bet)` - –ò–≥—Ä–∞—Ç—å –≤ —Å–ª–æ—Ç—ã
- `get_slot_result(symbols)` - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à
- `get_user_history(user_id)` - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –í—ã–±–æ—Ä —Å—Ç–∞–≤–∫–∏ (10, 50, 100, 500 –∫–æ–∏–Ω–æ–≤)
- 3 —Å–∏–º–≤–æ–ª–∞, —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- –ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã: x2, x5, x10, x100
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å—Ç–∞–≤–æ–∫

**–ë–î:** `kasik_history`, `kasik_stats`

---

### üé° Roulettes - –î–≤–µ —Å–∏—Å—Ç–µ–º—ã —Ä—É–ª–µ—Ç–æ–∫
**–§–∞–π–ª 1:** `modules/golden_rulet.py` - –ó–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞
- –£–¥–≤–æ–µ–Ω–∏–µ –∫–æ–∏–Ω–æ–≤ –∏–ª–∏ –ø–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ (Lucky/Unlucky)

**–§–∞–π–ª 2:** `modules/rus_rulet.py` - –†—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞
- –†–∏—Å–∫ –ø–æ–ª—É—á–∏—Ç—å –º—É—Ç –Ω–∞ X —á–∞—Å–æ–≤
- –®–∞–Ω—Å –≤—ã–∏–≥—Ä–∞—Ç—å –±–æ–ª—å—à–æ–π –ø—Ä–∏–∑

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `spin_golden(user_id, bet)` - –ö—Ä—É—Ç–∏—Ç—å –∑–æ–ª–æ—Ç—É—é —Ä—É–ª–µ—Ç–∫—É
- `spin_russian(user_id, duration)` - –†—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞
- `calculate_odds(user_id)` - –†–∞—Å—á–µ—Ç —à–∞–Ω—Å–æ–≤

---

### üéÆ Hot-Cold - –ò–≥—Ä–∞ "–•–æ–ª–æ–¥–Ω–æ-–ì–æ—Ä—è—á–æ"
**–§–∞–π–ª:** `modules/hot_cold.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `register_hot_cold_handlers(dp)` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `start_game(user_id)` - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
- `make_guess(user_id, number)` - –°–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- `hint_system(actual, guess)` - –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ë–æ—Ç –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ 1-100
- –ò–≥—Ä–æ–∫ —É–≥–∞–¥—ã–≤–∞–µ—Ç
- –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏: "–•–æ–ª–æ–¥–Ω–æ!", "–¢–µ–ø–ª–µ–µ", "–ì–æ—Ä—è—á–æ!", "–û—á–µ–Ω—å –≥–æ—Ä—è—á–æ!"
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–æ–ø—ã—Ç–∫–∞–º

**–ë–î:** `hotcold_games`, `hotcold_stats`

---

### üé≠ Mafia - –†–æ–ª–µ–≤–∞—è –∏–≥—Ä–∞ –º–∞—Ñ–∏—è
**–§–∞–π–ª:** `modules/mafia.py`
**–†–æ–ª–∏ (6+):**
1. **–ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏** - –ì–æ–ª–æ—Å—É—é—Ç
2. **–ú–∞—Ñ–∏—è** - –ù–æ—á—å—é —É–±–∏–≤–∞—é—Ç, –¥–Ω–µ–º –≥–æ–ª–æ—Å—É—é—Ç
3. **–ö–æ–º–∏—Å—Å–∞—Ä** - –ú–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª—å
4. **–î–æ–∫—Ç–æ—Ä** - –ú–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞
5. **–ê–¥–≤–æ–∫–∞—Ç** - –ú–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏ –æ—Ç –ª–∏–Ω—á–∞
6. **–¢–µ–ª–æ–ø–∞—Ç** - –í–∏–¥–∏—Ç –¥—Ä—É–≥–æ–≥–æ —Ç–µ–ª–æ–ø–∞—Ç–∞

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –î–µ–Ω—å/–ù–æ—á—å —Ü–∏–∫–ª (–¥–µ–Ω—å = –æ–±—Å—É–∂–¥–µ–Ω–∏–µ, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ; –Ω–æ—á—å = –¥–µ–π—Å—Ç–≤–∏—è —Ä–æ–ª–µ–π)
- –ú–∏–Ω–∏–º—É–º 5 –∏–≥—Ä–æ–∫–æ–≤
- –ò–≥—Ä–∞ –¥–æ –ø–æ–±–µ–¥—ã –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `create_game(chat_id)` - –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
- `join_game(game_id, user_id)` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
- `start_game(game_id)` - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
- `night_phase(game_id)` - –ù–æ—á–Ω–∞—è —Ñ–∞–∑–∞
- `day_phase(game_id)` - –î–Ω–µ–≤–Ω–∞—è —Ñ–∞–∑–∞

---

### üèÜ Tournaments - –°–∏—Å—Ç–µ–º–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤
**–§–∞–π–ª:** `modules/turnaments.py`
**–¢–∏–ø—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤:**
1. **–õ–∏—á–Ω—ã–µ** - 1 vs 1
2. **–ì—Ä—É–ø–ø–æ–≤—ã–µ** - –ù–µ—Å–∫–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
3. **–õ–∏–≥–æ–≤—ã–µ** - –° —Ç–∞–±–ª–∏—Ü–µ–π –ª–∏–¥–µ—Ä–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `create_tournament(tournament_type, name)` - –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä
- `register_player(tournament_id, user_id)` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `start_tournament(tournament_id)` - –ù–∞—á–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä
- `record_result(tournament_id, winner_id, loser_id)` - –ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `get_leaderboard(tournament_id)` - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤

**–ë–î:** `tournaments`, `tournament_results`, `tournament_leaderboard`

---

### üîç Who-Is-Who - –ü–æ–∏—Å–∫ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
**–§–∞–π–ª:** `modules/who_is_who.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `search_user(query)` - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `get_user_info(user_id)` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `get_user_stats(user_id)` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ù–∏–∫–Ω–µ–π–º –∏ ID
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä
- –ü–æ–±–µ–¥—ã/–ø–æ—Ä–∞–∂–µ–Ω–∏—è
- –†–µ–π—Ç–∏–Ω–≥ –≤ —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä–∞—Ö

---

### üìä Message Top - –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–§–∞–π–ª:** `modules/message_top.py`
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `get_top_users(limit=10)` - –¢–æ–ø –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- `get_user_message_count(user_id)` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- `update_message_count(user_id)` - –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫

**–ë–î:** `message_stats`, `user_activity`

---

### üé™ Obvinenie - (–û–±–≤–∏–Ω–µ–Ω–∏–µ/–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)
**–§–∞–π–ª:** `modules/obvinenie.py`
**–§—É–Ω–∫—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ –æ–±–≤–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏

---

## üìÅ –ê–î–ú–ò–ù–ò–°–¢–†–ò–†–û–í–ê–ù–ò–ï (admin/)

### `admin/admin_bot.py` - –û—Å–Ω–æ–≤–Ω–æ–π –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
**–ö–æ–º–∞–Ω–¥—ã:**
- `/mute user_id hours` - –ó–∞–º—å—é—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/ban user_id` - –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/unmute user_id` - –†–∞–∑–º—å—é—Ç–∏—Ç—å
- `/unban user_id` - –†–∞–∑–±–∞–Ω–∏—Ç—å
- `/warn user_id reason` - –í—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

### `admin/admin_panel.py` - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ —Ç–µ–ª–µ–≥—Ä–∞–º-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### `admin/admin_config.py` - –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –∞–¥–º–∏–Ω–∞
- –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### `admin/new_link.py` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

### `admin/recommend.py` - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –ú–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

---

## üîå –ü—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã



### `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
aiogram
telebot
sqlite3
password_generator
```

---

## üóÑÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó –î–ê–ù–ù–´–•

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

**users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
```sql
user_id, username, status, coins_balance
```

**farm_cooldown** - –ö—É–ª–¥–∞—É–Ω —Å–±–æ—Ä–∞ –∫–æ–∏–Ω–æ–≤
```sql
user_id, last_collect, next_available
```

**bookmarks_data** - –ó–∞–∫–ª–∞–¥–∫–∏
```sql
bookmark_id, user_id, message_id, text, date
```

**duels_active** - –ê–∫—Ç–∏–≤–Ω—ã–µ –¥—É—ç–ª–∏
```sql
duel_id, challenger_id, opponent_id, bet, status, created_at
```

**kasik_history** - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ –≤ –∫–∞–∑–∏–Ω–æ
```sql
history_id, user_id, bet_amount, result, win_amount, timestamp
```

**mafia_games** - –ò–≥—Ä—ã –≤ –º–∞—Ñ–∏—é
```sql
game_id, chat_id, status, current_phase, players, roles
```

**tournaments** - –¢—É—Ä–Ω–∏—Ä—ã
```sql
tournament_id, name, type, status, created_by, created_at
```

**message_stats** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
```sql
user_id, message_count, last_message_date
```

---

## üìñ –ú–ê–†–®–†–£–¢–´ –û–ë–£–ß–ï–ù–ò–Ø

### üöÄ –î–ª—è –Ω–æ–≤–∏—á–∫–∞ (2-4 –Ω–µ–¥–µ–ª–∏)
1. **Day 1:** –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É (CODE_REFERENCE.md)
2. **Day 2-3:** –ò–∑—É—á–∏—Ç–µ `main/config.py` –∏ `main/main_bot.py`
3. **Week 1:** Farm ‚Üí Bookmarks ‚Üí Hot-Cold (–±–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏)
4. **Week 2:** Cubes ‚Üí Kasik ‚Üí Roulettes (–∏–≥—Ä–æ–≤—ã–µ –º–æ–¥—É–ª–∏)
5. **Week 3:** Mafia ‚Üí Tournaments (—Å–ª–æ–∂–Ω—ã–µ –º–æ–¥—É–ª–∏)
6. **Week 4:** Admin ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### ‚ö° –î–ª—è –æ–ø—ã—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (1-2 –¥–Ω—è)
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ CODE_REFERENCE.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - 30 –º–∏–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π –º–æ–¥—É–ª—å –≤ `modules/` - 1-2 —á–∞—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `main_bot.py` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - 1 —á–∞—Å
4. –ù–∞—á–Ω–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

### üîß –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏
1. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –º–æ–¥—É–ª—å –≤ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–∏ –≤—ã—à–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `.py` —Ñ–∞–π–ª
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

---

## üîë –ö–õ–Æ–ß–ï–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò –ö–û–ù–°–¢–ê–ù–¢–´

**–ò–∑ config.py:**
- `klan` - ID –∫–ª–∞–Ω–∞ –≤ Telegram
- `bot` - –û–±—ä–µ–∫—Ç –±–æ—Ç–∞ aiogram
- `dp` - Dispatcher –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `main_path` - –ü—É—Ç—å –∫ –ë–î
- `curent_path` - –¢–µ–∫—É—â–∏–π –ø—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
- `can_recommend_users` - –°–ø–∏—Å–æ–∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `ParseMode.HTML` - –§–æ—Ä–º–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞

---

## üß™ –ë–´–°–¢–†–´–ô –¢–ï–°–¢

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```python
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å main_bot.py
python main/main_bot.py

# 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /start –±–æ—Ç—É
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∞–Ω–µ
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–ê

- **–í—Å–µ–≥–æ –º–æ–¥—É–ª–µ–π:** 10 –æ—Å–Ω–æ–≤–Ω—ã—Ö
- **–í—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π:** 100+
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 5000+
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∏–≥—Ä:** 8
- **–¢–∞–±–ª–∏—Ü –≤ –ë–î:** 15+
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:** 100%

---

## üÜò –ß–ê–°–¢–û –ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –§–£–ù–ö–¶–ò–ò

**–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:**
```python
connection = sqlite3.connect(main_path)
cursor = connection.cursor()
user_data = cursor.execute('SELECT * FROM users WHERE user_id = ?', (user_id,)).fetchone()
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```python
await bot.send_message(user_id, text, parse_mode=ParseMode.HTML)
```

**–°–æ–∑–¥–∞—Ç—å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É:**
```python
button = types.InlineKeyboardButton(text="–¢–µ–∫—Å—Ç", callback_data='data')
keyboard = types.InlineKeyboardMarkup(row_width=1)
keyboard.add(button)
```

**–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:**
```python
@dp.message_handler(commands=['command'])
async def handler(message):
    # –∫–æ–¥
```

---

## üéØ –ß–¢–û –î–ê–õ–¨–®–ï?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫. –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ `.py` —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `modules/`.

**–í–æ–ø—Ä–æ—Å—ã?** –°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ (—Ç–∞–º –µ—Å—Ç—å `#? EN:` –∏ `#* RU:` –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏).

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 20.12.2025*
