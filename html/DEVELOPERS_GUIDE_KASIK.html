<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∞ –ú–æ–¥—É–ª—å Kasik (–ö–∞–∑–∏–Ω–æ) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            font-size: 0.9em;
            color: #666;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 40px;
        }

        .content h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content h2 {
            color: #764ba2;
            font-size: 1.6em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .content h3 {
            color: #667eea;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .content h4 {
            color: #764ba2;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .content p {
            line-height: 1.8;
            margin: 15px 0;
            color: #444;
        }

        .content ul, .content ol {
            margin: 15px 0;
            margin-left: 30px;
            line-height: 1.8;
        }

        .content li {
            margin: 8px 0;
            color: #444;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            font-size: 0.95em;
        }

        .content pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .content pre code {
            color: #333;
            padding: 0;
            background: none;
            font-size: 0.9em;
        }

        .content blockquote {
            border-left: 4px solid #667eea;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

        .content a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .content a:hover {
            border-bottom-color: #667eea;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .content table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .content table td {
            border: 1px solid #ddd;
            padding: 12px;
        }

        .content table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .content hr {
            border: none;
            border-top: 2px solid #667eea;
            margin: 30px 0;
        }

        .content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            justify-content: space-between;
        }

        .nav-button {
            display: inline-block;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-button:hover {
            background: #764ba2;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-button.prev {
            margin-right: auto;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .nav-button.prev {
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé∞ –ú–æ–¥—É–ª—å Kasik (–ö–∞–∑–∏–Ω–æ) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</h1>
            <p style="opacity: 0.9; font-size: 1.1em;">Chat Manager Bot - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</p>
        </header>

        <div class="breadcrumb">
            <a href="../html/index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a> / 
            <a href="../html/index_site.html">üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> / 
            <span>üé∞ –ú–æ–¥—É–ª—å Kasik (–ö–∞–∑–∏–Ω–æ) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</span>
        </div>

        <div class="content">
            
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–î–∞—Ç–∞:</strong> 20.12.2025<br />
<strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production<br />
<strong>–Ø–∑—ã–∫:</strong> Python 3.10+  </p>
<hr />
<h2>üìñ –û–±–∑–æ—Ä</h2>
<p>–ú–æ–¥—É–ª—å Kasik (<code>modules/kasik.py</code>) —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞–∑–∏–Ω–æ —Å –∏–≥—Ä–æ–≤—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏ (—Å–ª–æ—Ç–∞–º–∏). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç–∞–≤—è—Ç –∫–æ–∏–Ω—ã –∏–∑ —Ñ–∞—Ä–º—ã –∏ –ø—ã—Ç–∞—é—Ç—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω 15 –º–∏–Ω—É—Ç, –ø—Ä–æ–≤–µ—Ä–∫—É –±–∞–ª–∞–Ω—Å–∞ –∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.</p>
<h3>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
<p>‚úÖ <strong>–í—ã–±–æ—Ä —Å—Ç–∞–≤–∫–∏</strong> - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ —Å—Ç–∞–≤–æ–∫<br />
‚úÖ <strong>–ö—É–ª–¥–∞—É–Ω 15 –º–∏–Ω—É—Ç</strong> - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞<br />
‚úÖ <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–∏–Ω–æ–≤<br />
‚úÖ <strong>–°–ª–æ—Ç-–º–∞—à–∏–Ω—ã</strong> - 3 –±–∞—Ä–∞–±–∞–Ω–∞ —Å —Å–∏–º–≤–æ–ª–∞–º–∏<br />
‚úÖ <strong>–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</strong> - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è<br />
‚úÖ <strong>–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã</strong> - —Ä–∞–∑–Ω—ã–µ –≤—ã–∏–≥—Ä—ã—à–∏ –∑–∞ —Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏<br />
‚úÖ <strong>–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫</strong> - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î  </p>
<hr />
<h2>üéØ –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</h2>
<h3>kasik()</h3>
<p>–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∑–∏–Ω–æ.</p>
<pre class="codehilite"><code class="language-python">@dp.message_handler(Text(startswith=['! –∫–∞–∑–∏–∫', '!–∫–∞–∑–∏–∫'], ignore_case=True))
async def kasik(message: types.Message):
    &quot;&quot;&quot;
    –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–∑–∏–Ω–æ —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç–∞–≤–∫–∏
    &quot;&quot;&quot;
</code></pre>

<p><strong>–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞:</strong>
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—à–µ—Ç <code>!–∫–∞–∑–∏–∫</code> –∏–ª–∏ <code>! –∫–∞–∑–∏–∫</code></p>
<p><strong>–õ–æ–≥–∏–∫–∞:</strong>
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —ç—Ç–æ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—É–ª–¥–∞—É–Ω (15 –º–∏–Ω—É—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç–∞–≤–∫–∏)
3. –ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å –º–µ—à–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–∫–∏
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Å—Ç–∞–≤–∫–∏ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 10 –¥–æ –µ–≥–æ –±–∞–ª–∞–Ω—Å–∞)
6. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–∫–∏ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å–ª–æ—Ç—ã
7. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ–∏–Ω—ã</p>
<hr />
<h2>üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>
<h3>–¢–∞–±–ª–∏—Ü–∞ <code>stavki</code> (–≤ kasik.db)</h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS stavki (
    user_id INTEGER PRIMARY KEY,
    last_date TEXT
)
</code></pre>

<h3>–¢–∞–±–ª–∏—Ü–∞ <code>kasik_history</code> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS kasik_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    chat_id INTEGER NOT NULL,
    stake INTEGER NOT NULL,
    result TEXT NOT NULL,
    winnings INTEGER NOT NULL,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
</code></pre>

<hr />
<h2>üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
<h3>–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞ –∫–∞–∑–∏–Ω–æ</h3>
<pre class="codehilite"><code class="language-python">def can_play_kasik(user_id: int, db_path: str) -&gt; tuple[bool, str]:
    &quot;&quot;&quot;–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–≥—Ä–∞—Ç—å –≤ –∫–∞–∑–∏–Ω–æ&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        last_date_str = cursor.execute(
            &quot;SELECT last_date FROM stavki WHERE user_id = ?&quot;,
            (user_id,)
        ).fetchone()[0]

        last_date = datetime.strptime(last_date_str, &quot;%H:%M:%S %d.%m.%Y&quot;)
        now = datetime.now()
        delta = now - last_date

        if delta &gt;= timedelta(minutes=15):
            return True, &quot;–ú–æ–∂–µ—Ç–µ –∏–≥—Ä–∞—Ç—å&quot;
        else:
            remaining = timedelta(minutes=15) - delta
            minutes = remaining.seconds // 60
            seconds = remaining.seconds % 60
            return False, f&quot;–ü–æ–¥–æ–∂–¥–∏—Ç–µ {minutes}:{seconds:02d}&quot;
    except (IndexError, TypeError):
        return True, &quot;–ü–µ—Ä–≤–∞—è —Å—Ç–∞–≤–∫–∞&quot;
    finally:
        connection.close()
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–ª–æ—Ç–æ–≤</h3>
<pre class="codehilite"><code class="language-python">SLOT_SYMBOLS = {
    &quot;üçä&quot;: 10,
    &quot;üçã&quot;: 20,
    &quot;üçí&quot;: 30,
    &quot;‚≠ê&quot;: 50,
    &quot;üíé&quot;: 100
}

def generate_slot_result() -&gt; tuple[str, str, str, int]:
    &quot;&quot;&quot;–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–æ—Ç–æ–≤&quot;&quot;&quot;
    symbols = list(SLOT_SYMBOLS.keys())

    slot1 = random.choice(symbols)
    slot2 = random.choice(symbols)
    slot3 = random.choice(symbols)

    # –†–∞—Å—á—ë—Ç –≤—ã–∏–≥—Ä—ã—à–∞
    if slot1 == slot2 == slot3:
        # –í—Å–µ —Ç—Ä–∏ —Å–∏–º–≤–æ–ª–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç - –±–æ–ª—å—à–æ–π –≤—ã–∏–≥—Ä—ã—à
        multiplier = 10
    elif slot1 == slot2 or slot2 == slot3:
        # –î–≤–∞ —Å–∏–º–≤–æ–ª–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç
        multiplier = 3
    else:
        # –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
        multiplier = 0

    return slot1, slot2, slot3, multiplier

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
slot1, slot2, slot3, multiplier = generate_slot_result()
print(f&quot;–†–µ–∑—É–ª—å—Ç–∞—Ç: {slot1} {slot2} {slot3}&quot;)
print(f&quot;–ú–Ω–æ–∂–∏—Ç–µ–ª—å: {multiplier}x&quot;)

stake = 100
winnings = stake * multiplier
print(f&quot;–í—ã–∏–≥—Ä—ã—à: {winnings} –∫–æ–∏–Ω–æ–≤&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å—Ç–∞–≤–∫–∏</h3>
<pre class="codehilite"><code class="language-python">def save_kasik_result(user_id: int, chat_id: int, stake: int, 
                      result: str, winnings: int, db_path: str) -&gt; bool:
    &quot;&quot;&quot;–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ç–∞–≤–∫–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS kasik_history (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                user_id INTEGER NOT NULL,
                chat_id INTEGER NOT NULL,
                stake INTEGER NOT NULL,
                result TEXT NOT NULL,
                winnings INTEGER NOT NULL,
                timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        ''')

        cursor.execute(
            '''INSERT INTO kasik_history (user_id, chat_id, stake, result, winnings)
               VALUES (?, ?, ?, ?, ?)''',
            (user_id, chat_id, stake, result, winnings)
        )

        # –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç–∞–≤–∫–∏
        cursor.execute(
            &quot;INSERT OR REPLACE INTO stavki (user_id, last_date) VALUES (?, ?)&quot;,
            (user_id, datetime.now().strftime(&quot;%H:%M:%S %d.%m.%Y&quot;))
        )

        connection.commit()
        return True
    except Exception as e:
        print(f&quot;–û—à–∏–±–∫–∞: {e}&quot;)
        return False
    finally:
        connection.close()
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∑–∏–Ω–æ</h3>
<pre class="codehilite"><code class="language-python">def get_kasik_stats(user_id: int, db_path: str) -&gt; dict:
    &quot;&quot;&quot;–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞ –≤ –∫–∞–∑–∏–Ω–æ&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        # –í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫
        total_bets = cursor.execute(
            &quot;SELECT COUNT(*) FROM kasik_history WHERE user_id = ?&quot;,
            (user_id,)
        ).fetchone()[0]

        # –í—Å–µ–≥–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
        total_staked = cursor.execute(
            &quot;SELECT SUM(stake) FROM kasik_history WHERE user_id = ?&quot;,
            (user_id,)
        ).fetchone()[0] or 0

        # –í—Å–µ–≥–æ –≤—ã–∏–≥—Ä–∞–Ω–æ
        total_winnings = cursor.execute(
            &quot;SELECT SUM(winnings) FROM kasik_history WHERE user_id = ?&quot;,
            (user_id,)
        ).fetchone()[0] or 0

        # –ë–∞–ª–∞–Ω—Å
        balance = total_winnings - total_staked

        return {
            &quot;total_bets&quot;: total_bets,
            &quot;total_staked&quot;: total_staked,
            &quot;total_winnings&quot;: total_winnings,
            &quot;balance&quot;: balance,
            &quot;roi&quot;: (balance / total_staked * 100) if total_staked &gt; 0 else 0
        }
    finally:
        connection.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
stats = get_kasik_stats(123456, &quot;kasik.db&quot;)
print(f&quot;–í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫: {stats['total_bets']}&quot;)
print(f&quot;–í—ã–∏–≥—Ä—ã—à/–ø—Ä–æ–∏–≥—Ä—ã—à: {stats['balance']}&quot;)
print(f&quot;ROI: {stats['roi']:.2f}%&quot;)
</code></pre>

<hr />
<h2>üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</h2>
<h3>–ò–¥–µ—è 1: –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –¥–∂–µ–∫–ø–æ—Ç</h3>
<pre class="codehilite"><code class="language-python">class ProgressiveJackpot:
    def __init__(self, initial: int = 1000):
        self.base_amount = initial
        self.current = initial

    def add_to_jackpot(self, amount: int):
        &quot;&quot;&quot;–î–æ–±–∞–≤–ª—è–µ—Ç —Å—É–º–º—É –≤ –¥–∂–µ–∫–ø–æ—Ç&quot;&quot;&quot;
        self.current += amount

    def win_jackpot(self) -&gt; int:
        &quot;&quot;&quot;–í—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –¥–∂–µ–∫–ø–æ—Ç –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç&quot;&quot;&quot;
        won = self.current
        self.current = self.base_amount
        return won

    def get_jackpot(self) -&gt; int:
        &quot;&quot;&quot;–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –¥–∂–µ–∫–ø–æ—Ç–∞&quot;&quot;&quot;
        return self.current

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
jackpot = ProgressiveJackpot()
jackpot.add_to_jackpot(100)  # –ö–∞–∂–¥–∞—è —Å—Ç–∞–≤–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –¥–∂–µ–∫–ø–æ—Ç
if lucky:
    won_amount = jackpot.win_jackpot()
</code></pre>

<h3>–ò–¥–µ—è 2: –ë–æ–Ω—É—Å-—Ä–∞—É–Ω–¥—ã –∏ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã</h3>
<pre class="codehilite"><code class="language-python">def calculate_bonus_multiplier(bet_count: int) -&gt; float:
    &quot;&quot;&quot;–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–æ–Ω—É—Å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–≤–æ–∫ –ø–æ–¥—Ä—è–¥&quot;&quot;&quot;
    if bet_count &lt; 5:
        return 1.0
    elif bet_count &lt; 10:
        return 1.1  # +10%
    elif bet_count &lt; 20:
        return 1.2  # +20%
    else:
        return 1.3  # +30%

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
multiplier = calculate_bonus_multiplier(15)
final_winnings = int(base_winnings * multiplier)
</code></pre>

<h3>–ò–¥–µ—è 3: –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π</h3>
<pre class="codehilite"><code class="language-python">KASIK_LEVELS = {
    1: {&quot;min_bets&quot;: 0, &quot;min_coins&quot;: 0, &quot;name&quot;: &quot;–ù–æ–≤–∏—á–æ–∫&quot;},
    2: {&quot;min_bets&quot;: 10, &quot;min_coins&quot;: 100, &quot;name&quot;: &quot;–õ—é–±–∏—Ç–µ–ª—å&quot;},
    3: {&quot;min_bets&quot;: 50, &quot;min_coins&quot;: 500, &quot;name&quot;: &quot;–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª&quot;},
    4: {&quot;min_bets&quot;: 100, &quot;min_coins&quot;: 1000, &quot;name&quot;: &quot;–õ–µ–≥–µ–Ω–¥–∞&quot;},
}

def get_kasik_level(user_id: int, db_path: str) -&gt; tuple[int, dict]:
    &quot;&quot;&quot;–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞ –≤ –∫–∞–∑–∏–Ω–æ&quot;&quot;&quot;
    stats = get_kasik_stats(user_id, db_path)

    for level_id in sorted(KASIK_LEVELS.keys(), reverse=True):
        level_info = KASIK_LEVELS[level_id]
        if stats['total_bets'] &gt;= level_info['min_bets']:
            return level_id, level_info

    return 1, KASIK_LEVELS[1]
</code></pre>

<hr />
<h2>üìù –õ–∏—Ü–µ–Ω–∑–∏—è</h2>
<p>–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ WERTY | Chat-Manager Bot</p>
<hr />
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ:</strong> GitHub Copilot<br />
<strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> 20.12.2025</p>
        </div>

        <div class="content">
            <div class="nav-buttons">
                <a href="../html/index_site.html" class="nav-button prev">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>
                <a href="../html/index.html" class="nav-button">–ù–∞ –≥–ª–∞–≤–Ω—É—é ‚Üí</a>
            </div>
        </div>

        <footer>
            <p>Chat Manager Bot | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | –í–µ—Ä—Å–∏—è 2.0</p>
            <p style="margin-top: 10px;">
                <a href="../html/index.html">–ì–ª–∞–≤–Ω–∞—è</a> | 
                <a href="../html/index_site.html">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> | 
                <a href="../html/modules.html">–ú–æ–¥—É–ª–∏</a>
            </p>
        </footer>
    </div>
</body>
</html>
