<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ CODE REFERENCE - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Chat-Manager Bot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            font-size: 0.9em;
            color: #666;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 40px;
        }

        .content h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content h2 {
            color: #764ba2;
            font-size: 1.6em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .content h3 {
            color: #667eea;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .content h4 {
            color: #764ba2;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .content p {
            line-height: 1.8;
            margin: 15px 0;
            color: #444;
        }

        .content ul, .content ol {
            margin: 15px 0;
            margin-left: 30px;
            line-height: 1.8;
        }

        .content li {
            margin: 8px 0;
            color: #444;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            font-size: 0.95em;
        }

        .content pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .content pre code {
            color: #333;
            padding: 0;
            background: none;
            font-size: 0.9em;
        }

        .content blockquote {
            border-left: 4px solid #667eea;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

        .content a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .content a:hover {
            border-bottom-color: #667eea;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .content table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .content table td {
            border: 1px solid #ddd;
            padding: 12px;
        }

        .content table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .content hr {
            border: none;
            border-top: 2px solid #667eea;
            margin: 30px 0;
        }

        .content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            justify-content: space-between;
        }

        .nav-button {
            display: inline-block;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-button:hover {
            background: #764ba2;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-button.prev {
            margin-right: auto;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .nav-button.prev {
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ CODE REFERENCE - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Chat-Manager Bot</h1>
            <p style="opacity: 0.9; font-size: 1.1em;">Chat Manager Bot - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</p>
        </header>

        <div class="breadcrumb">
            <a href="../html/index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a> / 
            <a href="../html/index_site.html">üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> / 
            <span>üöÄ CODE REFERENCE - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Chat-Manager Bot</span>
        </div>

        <div class="content">
            
<p><strong>–î–∞—Ç–∞:</strong> 20.12.2025 | <strong>–í–µ—Ä—Å–∏—è:</strong> 2.0 | <strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</p>
<hr />
<h2>üéØ –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –ö–û–î–£</h2>
<h3>‚≠ê –Ø–î–†–û –ë–û–¢–ê (–ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞!)</h3>
<h4><code>main/config.py</code> - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h4>
<ul>
<li><strong>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</strong> klan, main_path, curent_path, bot, dp, ParseMode</li>
<li><strong>API —Ç–æ–∫–µ–Ω—ã:</strong> Telegram Bot Token</li>
<li><strong>–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:</strong> –ü—É—Ç–∏ –∫ sqlite3 –ë–î</li>
<li><strong>–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:</strong> ID –∫–∞–Ω–∞–ª–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
</ul>
<h4><code>main/main_bot.py</code> - –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ (3174 —Å—Ç—Ä–æ–∫)</h4>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>/start</code>, <code>/help</code> - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –ø–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –≤ –∫–ª–∞–Ω–µ
- <code>successful_recom1()</code> - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- <code>commands</code> callback - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π (–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –Ω–∞—á–∞–ª–µ)</p>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã:</strong></p>
<pre class="codehilite"><code class="language-python">from modules.farm import *
from modules.kasik import *
from modules.turnaments import *
from modules.mafia import *
from modules.cubes import *
from modules.message_top import *
from modules.obvinenie import *
from modules.rus_rulet import *
from modules.golden_rulet import *
from modules.who_is_who import *
from modules.hot_cold import register_hot_cold_handlers
from modules.bookmarks import *
</code></pre>

<h4><code>main/utils.py</code> - –£—Ç–∏–ª–∏—Ç—ã</h4>
<ul>
<li>–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–†–∞–±–æ—Ç–∞ —Å –ë–î</li>
<li>–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<hr />
<h2>üéÆ –ú–û–î–£–õ–ò –ò–ì–†–´ (modules/)</h2>
<h3>üìå Bookmarks - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∑–∞–∫–ª–∞–¥–∫–∏</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/bookmarks.py</code>
<strong>–ö–ª–∞—Å—Å:</strong> <code>BookmarkManager</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:</strong>
- <code>add_bookmark(user_id, message_id, text)</code> - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
- <code>get_bookmarks(user_id)</code> - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–ª–∞–¥–∫–∏
- <code>delete_bookmark(bookmark_id)</code> - –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
- <code>search_bookmarks(user_id, query)</code> - –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É</p>
<p><strong>–ë–î:</strong> <code>bookmarks_data</code> —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏: <code>user_id, message_id, text, date</code></p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</strong></p>
<pre class="codehilite"><code class="language-python">from modules.bookmarks import BookmarkManager
bm = BookmarkManager()
bm.add_bookmark(user_id=123, message_id=456, text=&quot;–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ&quot;)
bookmarks = bm.get_bookmarks(123)
</code></pre>

<hr />
<h3>üåæ Farm - –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–∏–Ω–æ–≤</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/farm.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>get_coins()</code> - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–∏–Ω—ã –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- <code>check_can_work()</code> - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∞
- <code>add_coins_to_meshok(user_id, amount)</code> - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–∏–Ω—ã –≤ –º–µ—à–æ–∫
- <code>get_user_coins(user_id)</code> - –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å</p>
<p><strong>–ë–î —Ç–∞–±–ª–∏—Ü—ã:</strong>
- <code>users_coins</code> - –ë–∞–ª–∞–Ω—Å –∫–æ–∏–Ω–æ–≤
- <code>farm_cooldown</code> - –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±–æ—Ä–∞</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∫–∞:</strong>
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–∏–Ω–æ–≤ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞: 50-150 –∫–æ–∏–Ω–æ–≤
- –ú–∞–∫—Å–∏–º—É–º –≤ –º–µ—à–∫–µ: 10,000 –∫–æ–∏–Ω–æ–≤</p>
<hr />
<h3>üé≤ Cubes - –î—É—ç–ª—å –Ω–∞ –∫—É–±–∏–∫–∞—Ö</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/cubes.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>create_duel(challenger_id, opponent_id, bet)</code> - –°–æ–∑–¥–∞—Ç—å –≤—ã–∑–æ–≤
- <code>accept_duel(duel_id)</code> - –ü—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤
- <code>roll_dice(duel_id)</code> - –ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫
- <code>finish_duel(duel_id)</code> - –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥—É—ç–ª—å</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∫–∞:</strong>
- –î–≤–∞ –∏–≥—Ä–æ–∫–∞ –∏–≥—Ä–∞—é—Ç –≤ –¥—É—ç–ª—å –Ω–∞ –∫–æ–∏–Ω—ã
- –ö–∞–∂–¥—ã–π –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É
- –ë—Ä–æ—Å–∞—é—Ç –∫—É–±–∏–∫, –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º
- –ò—Å—Ç–æ—Ä–∏—è –¥—É—ç–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è</p>
<p><strong>–ë–î:</strong> <code>duels_active</code>, <code>duels_history</code></p>
<hr />
<h3>üé∞ Kasik - –ö–∞–∑–∏–Ω–æ —Å–æ —Å–ª–æ—Ç-–º–∞—à–∏–Ω–∞–º–∏</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/kasik.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>play_slots(user_id, bet)</code> - –ò–≥—Ä–∞—Ç—å –≤ —Å–ª–æ—Ç—ã
- <code>get_slot_result(symbols)</code> - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à
- <code>get_user_history(user_id)</code> - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∫–∞:</strong>
- –í—ã–±–æ—Ä —Å—Ç–∞–≤–∫–∏ (10, 50, 100, 500 –∫–æ–∏–Ω–æ–≤)
- 3 —Å–∏–º–≤–æ–ª–∞, —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- –ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã: x2, x5, x10, x100
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å—Ç–∞–≤–æ–∫</p>
<p><strong>–ë–î:</strong> <code>kasik_history</code>, <code>kasik_stats</code></p>
<hr />
<h3>üé° Roulettes - –î–≤–µ —Å–∏—Å—Ç–µ–º—ã —Ä—É–ª–µ—Ç–æ–∫</h3>
<p><strong>–§–∞–π–ª 1:</strong> <code>modules/golden_rulet.py</code> - –ó–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞
- –£–¥–≤–æ–µ–Ω–∏–µ –∫–æ–∏–Ω–æ–≤ –∏–ª–∏ –ø–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ (Lucky/Unlucky)</p>
<p><strong>–§–∞–π–ª 2:</strong> <code>modules/rus_rulet.py</code> - –†—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞
- –†–∏—Å–∫ –ø–æ–ª—É—á–∏—Ç—å –º—É—Ç –Ω–∞ X —á–∞—Å–æ–≤
- –®–∞–Ω—Å –≤—ã–∏–≥—Ä–∞—Ç—å –±–æ–ª—å—à–æ–π –ø—Ä–∏–∑</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>spin_golden(user_id, bet)</code> - –ö—Ä—É—Ç–∏—Ç—å –∑–æ–ª–æ—Ç—É—é —Ä—É–ª–µ—Ç–∫—É
- <code>spin_russian(user_id, duration)</code> - –†—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞
- <code>calculate_odds(user_id)</code> - –†–∞—Å—á–µ—Ç —à–∞–Ω—Å–æ–≤</p>
<hr />
<h3>üéÆ Hot-Cold - –ò–≥—Ä–∞ "–•–æ–ª–æ–¥–Ω–æ-–ì–æ—Ä—è—á–æ"</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/hot_cold.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>register_hot_cold_handlers(dp)</code> - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- <code>start_game(user_id)</code> - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
- <code>make_guess(user_id, number)</code> - –°–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- <code>hint_system(actual, guess)</code> - –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∫–∞:</strong>
- –ë–æ—Ç –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ 1-100
- –ò–≥—Ä–æ–∫ —É–≥–∞–¥—ã–≤–∞–µ—Ç
- –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏: "–•–æ–ª–æ–¥–Ω–æ!", "–¢–µ–ø–ª–µ–µ", "–ì–æ—Ä—è—á–æ!", "–û—á–µ–Ω—å –≥–æ—Ä—è—á–æ!"
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–æ–ø—ã—Ç–∫–∞–º</p>
<p><strong>–ë–î:</strong> <code>hotcold_games</code>, <code>hotcold_stats</code></p>
<hr />
<h3>üé≠ Mafia - –†–æ–ª–µ–≤–∞—è –∏–≥—Ä–∞ –º–∞—Ñ–∏—è</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/mafia.py</code>
<strong>–†–æ–ª–∏ (6+):</strong>
1. <strong>–ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏</strong> - –ì–æ–ª–æ—Å—É—é—Ç
2. <strong>–ú–∞—Ñ–∏—è</strong> - –ù–æ—á—å—é —É–±–∏–≤–∞—é—Ç, –¥–Ω–µ–º –≥–æ–ª–æ—Å—É—é—Ç
3. <strong>–ö–æ–º–∏—Å—Å–∞—Ä</strong> - –ú–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª—å
4. <strong>–î–æ–∫—Ç–æ—Ä</strong> - –ú–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞
5. <strong>–ê–¥–≤–æ–∫–∞—Ç</strong> - –ú–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏ –æ—Ç –ª–∏–Ω—á–∞
6. <strong>–¢–µ–ª–æ–ø–∞—Ç</strong> - –í–∏–¥–∏—Ç –¥—Ä—É–≥–æ–≥–æ —Ç–µ–ª–æ–ø–∞—Ç–∞</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∫–∞:</strong>
- –î–µ–Ω—å/–ù–æ—á—å —Ü–∏–∫–ª (–¥–µ–Ω—å = –æ–±—Å—É–∂–¥–µ–Ω–∏–µ, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ; –Ω–æ—á—å = –¥–µ–π—Å—Ç–≤–∏—è —Ä–æ–ª–µ–π)
- –ú–∏–Ω–∏–º—É–º 5 –∏–≥—Ä–æ–∫–æ–≤
- –ò–≥—Ä–∞ –¥–æ –ø–æ–±–µ–¥—ã –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>create_game(chat_id)</code> - –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
- <code>join_game(game_id, user_id)</code> - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
- <code>start_game(game_id)</code> - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
- <code>night_phase(game_id)</code> - –ù–æ—á–Ω–∞—è —Ñ–∞–∑–∞
- <code>day_phase(game_id)</code> - –î–Ω–µ–≤–Ω–∞—è —Ñ–∞–∑–∞</p>
<hr />
<h3>üèÜ Tournaments - –°–∏—Å—Ç–µ–º–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/turnaments.py</code>
<strong>–¢–∏–ø—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤:</strong>
1. <strong>–õ–∏—á–Ω—ã–µ</strong> - 1 vs 1
2. <strong>–ì—Ä—É–ø–ø–æ–≤—ã–µ</strong> - –ù–µ—Å–∫–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
3. <strong>–õ–∏–≥–æ–≤—ã–µ</strong> - –° —Ç–∞–±–ª–∏—Ü–µ–π –ª–∏–¥–µ—Ä–æ–≤</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>create_tournament(tournament_type, name)</code> - –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä
- <code>register_player(tournament_id, user_id)</code> - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- <code>start_tournament(tournament_id)</code> - –ù–∞—á–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä
- <code>record_result(tournament_id, winner_id, loser_id)</code> - –ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- <code>get_leaderboard(tournament_id)</code> - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</p>
<p><strong>–ë–î:</strong> <code>tournaments</code>, <code>tournament_results</code>, <code>tournament_leaderboard</code></p>
<hr />
<h3>üîç Who-Is-Who - –ü–æ–∏—Å–∫ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/who_is_who.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>search_user(query)</code> - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- <code>get_user_info(user_id)</code> - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- <code>get_user_stats(user_id)</code> - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞</p>
<p><strong>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:</strong>
- –ù–∏–∫–Ω–µ–π–º –∏ ID
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä
- –ü–æ–±–µ–¥—ã/–ø–æ—Ä–∞–∂–µ–Ω–∏—è
- –†–µ–π—Ç–∏–Ω–≥ –≤ —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä–∞—Ö</p>
<hr />
<h3>üìä Message Top - –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/message_top.py</code>
<strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong>
- <code>get_top_users(limit=10)</code> - –¢–æ–ø –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- <code>get_user_message_count(user_id)</code> - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- <code>update_message_count(user_id)</code> - –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫</p>
<p><strong>–ë–î:</strong> <code>message_stats</code>, <code>user_activity</code></p>
<hr />
<h3>üé™ Obvinenie - (–û–±–≤–∏–Ω–µ–Ω–∏–µ/–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)</h3>
<p><strong>–§–∞–π–ª:</strong> <code>modules/obvinenie.py</code>
<strong>–§—É–Ω–∫—Ü–∏—è:</strong> –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ –æ–±–≤–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏</p>
<hr />
<h2>üìÅ –ê–î–ú–ò–ù–ò–°–¢–†–ò–†–û–í–ê–ù–ò–ï (admin/)</h2>
<h3><code>admin/admin_bot.py</code> - –û—Å–Ω–æ–≤–Ω–æ–π –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</h3>
<p><strong>–ö–æ–º–∞–Ω–¥—ã:</strong>
- <code>/mute user_id hours</code> - –ó–∞–º—å—é—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- <code>/ban user_id</code> - –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- <code>/unmute user_id</code> - –†–∞–∑–º—å—é—Ç–∏—Ç—å
- <code>/unban user_id</code> - –†–∞–∑–±–∞–Ω–∏—Ç—å
- <code>/warn user_id reason</code> - –í—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</p>
<h3><code>admin/admin_panel.py</code> - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
<ul>
<li>–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ —Ç–µ–ª–µ–≥—Ä–∞–º-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
<li>–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</li>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</li>
</ul>
<h3><code>admin/admin_config.py</code> - –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –∞–¥–º–∏–Ω–∞</h3>
<ul>
<li>–°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</li>
<li>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</li>
<li>–ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</li>
</ul>
<h3><code>admin/new_link.py</code> - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏</h3>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫</li>
<li>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</li>
</ul>
<h3><code>admin/recommend.py</code> - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</h3>
<ul>
<li>–ú–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</li>
<li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î</li>
</ul>
<hr />
<h2>üîå –ü—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã</h2>
<h3><code>requirements.txt</code> - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</h3>
<pre class="codehilite"><code>aiogram
telebot
sqlite3
password_generator
</code></pre>

<hr />
<h2>üóÑÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó –î–ê–ù–ù–´–•</h2>
<h3>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:</h3>
<p><strong>users</strong> - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</p>
<pre class="codehilite"><code class="language-sql">user_id, username, status, coins_balance
</code></pre>

<p><strong>farm_cooldown</strong> - –ö—É–ª–¥–∞—É–Ω —Å–±–æ—Ä–∞ –∫–æ–∏–Ω–æ–≤</p>
<pre class="codehilite"><code class="language-sql">user_id, last_collect, next_available
</code></pre>

<p><strong>bookmarks_data</strong> - –ó–∞–∫–ª–∞–¥–∫–∏</p>
<pre class="codehilite"><code class="language-sql">bookmark_id, user_id, message_id, text, date
</code></pre>

<p><strong>duels_active</strong> - –ê–∫—Ç–∏–≤–Ω—ã–µ –¥—É—ç–ª–∏</p>
<pre class="codehilite"><code class="language-sql">duel_id, challenger_id, opponent_id, bet, status, created_at
</code></pre>

<p><strong>kasik_history</strong> - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ –≤ –∫–∞–∑–∏–Ω–æ</p>
<pre class="codehilite"><code class="language-sql">history_id, user_id, bet_amount, result, win_amount, timestamp
</code></pre>

<p><strong>mafia_games</strong> - –ò–≥—Ä—ã –≤ –º–∞—Ñ–∏—é</p>
<pre class="codehilite"><code class="language-sql">game_id, chat_id, status, current_phase, players, roles
</code></pre>

<p><strong>tournaments</strong> - –¢—É—Ä–Ω–∏—Ä—ã</p>
<pre class="codehilite"><code class="language-sql">tournament_id, name, type, status, created_by, created_at
</code></pre>

<p><strong>message_stats</strong> - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</p>
<pre class="codehilite"><code class="language-sql">user_id, message_count, last_message_date
</code></pre>

<hr />
<h2>üìñ –ú–ê–†–®–†–£–¢–´ –û–ë–£–ß–ï–ù–ò–Ø</h2>
<h3>üöÄ –î–ª—è –Ω–æ–≤–∏—á–∫–∞ (2-4 –Ω–µ–¥–µ–ª–∏)</h3>
<ol>
<li><strong>Day 1:</strong>html/ –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É (CODE_REFERENCE.html)</li>
<li><strong>Day 2-3:</strong> –ò–∑—É—á–∏—Ç–µ <code>main/config.py</code> –∏ <code>main/main_bot.py</code></li>
<li><strong>Week 1:</strong> Farm ‚Üí Bookmarks ‚Üí Hot-Cold (–±–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏)</li>
<li><strong>Week 2:</strong> Cubes ‚Üí Kasik ‚Üí Roulettes (–∏–≥—Ä–æ–≤—ã–µ –º–æ–¥—É–ª–∏)</li>
<li><strong>Week 3:</strong> Mafia ‚Üí Tournaments (—Å–ª–æ–∂–Ω—ã–µ –º–æ–¥—É–ª–∏)</li>
<li><strong>Week 4:</strong> Admin ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</li>
</ol>
<h3>‚ö° –î–ª—è –æ–ø—ã—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (1-2 –¥–Ω—è)</h3>
<ol>
<li>html/–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ CODE_REFERENCE.html (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - 30 –º–∏–Ω</li>
<li>–û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π –º–æ–¥—É–ª—å –≤ <code>modules/</code> - 1-2 —á–∞—Å–∞</li>
<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ <code>main_bot.py</code> –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - 1 —á–∞—Å</li>
<li>–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É</li>
</ol>
<h3>üîß –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏</h3>
<ol>
<li>–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –º–æ–¥—É–ª—å –≤ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–∏ –≤—ã—à–µ</li>
<li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π <code>.py</code> —Ñ–∞–π–ª</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</li>
</ol>
<hr />
<h2>üîë –ö–õ–Æ–ß–ï–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò –ö–û–ù–°–¢–ê–ù–¢–´</h2>
<p><strong>–ò–∑ config.py:</strong>
- <code>klan</code> - ID –∫–ª–∞–Ω–∞ –≤ Telegram
- <code>bot</code> - –û–±—ä–µ–∫—Ç –±–æ—Ç–∞ aiogram
- <code>dp</code> - Dispatcher –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- <code>main_path</code> - –ü—É—Ç—å –∫ –ë–î
- <code>curent_path</code> - –¢–µ–∫—É—â–∏–π –ø—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
- <code>can_recommend_users</code> - –°–ø–∏—Å–æ–∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- <code>ParseMode.HTML</code> - –§–æ—Ä–º–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞</p>
<hr />
<h2>üß™ –ë–´–°–¢–†–´–ô –¢–ï–°–¢</h2>
<p>–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:</p>
<pre class="codehilite"><code class="language-python"># 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å main_bot.py
python main/main_bot.py

# 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /start –±–æ—Ç—É
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∞–Ω–µ
</code></pre>

<hr />
<h2>üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–ê</h2>
<ul>
<li><strong>–í—Å–µ–≥–æ –º–æ–¥—É–ª–µ–π:</strong> 10 –æ—Å–Ω–æ–≤–Ω—ã—Ö</li>
<li><strong>–í—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π:</strong> 100+</li>
<li><strong>–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:</strong> 5000+</li>
<li><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∏–≥—Ä:</strong> 8</li>
<li><strong>–¢–∞–±–ª–∏—Ü –≤ –ë–î:</strong> 15+</li>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:</strong> 100%</li>
</ul>
<hr />
<h2>üÜò –ß–ê–°–¢–û –ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –§–£–ù–ö–¶–ò–ò</h2>
<p><strong>–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:</strong></p>
<pre class="codehilite"><code class="language-python">connection = sqlite3.connect(main_path)
cursor = connection.cursor()
user_data = cursor.execute('SELECT * FROM users WHERE user_id = ?', (user_id,)).fetchone()
</code></pre>

<p><strong>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:</strong></p>
<pre class="codehilite"><code class="language-python">await bot.send_message(user_id, text, parse_mode=ParseMode.HTML)
</code></pre>

<p><strong>–°–æ–∑–¥–∞—Ç—å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É:</strong></p>
<pre class="codehilite"><code class="language-python">button = types.InlineKeyboardButton(text=&quot;–¢–µ–∫—Å—Ç&quot;, callback_data='data')
keyboard = types.InlineKeyboardMarkup(row_width=1)
keyboard.add(button)
</code></pre>

<p><strong>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:</strong></p>
<pre class="codehilite"><code class="language-python">@dp.message_handler(commands=['command'])
async def handler(message):
    # –∫–æ–¥
</code></pre>

<hr />
<h2>üéØ –ß–¢–û –î–ê–õ–¨–®–ï?</h2>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫. –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ <code>.py</code> —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ <code>modules/</code>.</p>
<p><strong>–í–æ–ø—Ä–æ—Å—ã?</strong> –°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ (—Ç–∞–º –µ—Å—Ç—å <code>#? EN:</code> –∏ <code>#* RU:</code> –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏).</p>
<hr />
<p><em>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 20.12.2025</em></p>
        </div>

        <div class="content">
            <div class="nav-buttons">
                <a href="../html/index_site.html" class="nav-button prev">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>
                <a href="../html/index.html" class="nav-button">–ù–∞ –≥–ª–∞–≤–Ω—É—é ‚Üí</a>
            </div>
        </div>

        <footer>
            <p>Chat Manager Bot | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | –í–µ—Ä—Å–∏—è 2.0</p>
            <p style="margin-top: 10px;">
                <a href="../html/index.html">–ì–ª–∞–≤–Ω–∞—è</a> | 
                <a href="../html/index_site.html">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> | 
                <a href="../html/modules.html">–ú–æ–¥—É–ª–∏</a>
            </p>
        </footer>
    </div>
</body>
</html>
