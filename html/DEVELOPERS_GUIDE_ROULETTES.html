<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≤ –ú–æ–¥—É–ª—å Roulettes (–†—É–ª–µ—Ç–∫–∏) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            font-size: 0.9em;
            color: #666;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 40px;
        }

        .content h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content h2 {
            color: #764ba2;
            font-size: 1.6em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .content h3 {
            color: #667eea;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .content h4 {
            color: #764ba2;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .content p {
            line-height: 1.8;
            margin: 15px 0;
            color: #444;
        }

        .content ul, .content ol {
            margin: 15px 0;
            margin-left: 30px;
            line-height: 1.8;
        }

        .content li {
            margin: 8px 0;
            color: #444;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            font-size: 0.95em;
        }

        .content pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .content pre code {
            color: #333;
            padding: 0;
            background: none;
            font-size: 0.9em;
        }

        .content blockquote {
            border-left: 4px solid #667eea;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

        .content a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .content a:hover {
            border-bottom-color: #667eea;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .content table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .content table td {
            border: 1px solid #ddd;
            padding: 12px;
        }

        .content table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .content hr {
            border: none;
            border-top: 2px solid #667eea;
            margin: 30px 0;
        }

        .content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            justify-content: space-between;
        }

        .nav-button {
            display: inline-block;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-button:hover {
            background: #764ba2;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-button.prev {
            margin-right: auto;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .nav-button.prev {
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé≤ –ú–æ–¥—É–ª—å Roulettes (–†—É–ª–µ—Ç–∫–∏) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</h1>
            <p style="opacity: 0.9; font-size: 1.1em;">Chat Manager Bot - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</p>
        </header>

        <div class="breadcrumb">
            <a href="../html/index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a> / 
            <a href="../html/index_site.html">üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> / 
            <span>üé≤ –ú–æ–¥—É–ª—å Roulettes (–†—É–ª–µ—Ç–∫–∏) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</span>
        </div>

        <div class="content">
            
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–î–∞—Ç–∞:</strong> 20.12.2025<br />
<strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production<br />
<strong>–Ø–∑—ã–∫:</strong> Python 3.10+  </p>
<hr />
<h2>üìñ –û–±–∑–æ—Ä</h2>
<p>–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–µ —Ä—É–ª–µ—Ç–∫–∏:</p>
<ol>
<li><strong>Golden Roulette</strong> (<code>modules/golden_rulet.py</code>) - –∏–≥—Ä–∞–µ–º –Ω–∞ –∫–æ–∏–Ω—ã —Å —à–∞–Ω—Å–æ–º —É–¥–≤–æ–∏—Ç—å –∏–ª–∏ –ø–æ—Ç–µ—Ä—è—Ç—å —Å—Ç–∞–≤–∫—É (3/6)</li>
<li><strong>Russian Roulette</strong> (<code>modules/rus_rulet.py</code>) - —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è –∏–≥—Ä–∞ —Å —à–∞–Ω—Å–æ–º –ø–æ–ª—É—á–∏—Ç—å –º—É—Ç (1/6)</li>
</ol>
<hr />
<h2>üé∞ Golden Roulette (–ó–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞)</h2>
<h3>–û–±–∑–æ—Ä</h3>
<p>–ò–≥—Ä–∞ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏: —Å—Ç–∞–≤–∏—Ç–µ –∫–æ–∏–Ω—ã, —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 3/6 –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç–µ (—Å—Ç–∞–≤–∫–∞ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è), —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 3/6 –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç–µ (—Å—Ç–∞–≤–∫–∞ —Å–≥–æ—Ä–∞–µ—Ç).</p>
<h3>–û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</h3>
<pre class="codehilite"><code class="language-python">@dp.message_handler(Text(startswith=[
    &quot;! –∑–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;!–∑–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;.–∑–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;/–∑–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;–∑–æ–ª–æ—Ç–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
], ignore_case=True))
async def golden_roulette(message: types.Message):
    &quot;&quot;&quot;
    –ò–≥—Ä–∞–µ–º –≤ –∑–æ–ª–æ—Ç—É—é —Ä—É–ª–µ—Ç–∫—É
    50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (—Å—Ç–∞–≤–∫–∞ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è)
    50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–≥—Ä—ã—à–∞ (—Å—Ç–∞–≤–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è)
    &quot;&quot;&quot;
</code></pre>

<h3>–õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã</h3>
<pre class="codehilite"><code class="language-python">def play_golden_roulette(stake: int) -&gt; tuple[bool, int]:
    &quot;&quot;&quot;–ü—Ä–æ–≤–æ–¥–∏—Ç —Ä–∞—É–Ω–¥ –∑–æ–ª–æ—Ç–æ–π —Ä—É–ª–µ—Ç–∫–∏&quot;&quot;&quot;
    # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞: 3 –∏–∑ 6 (50%)
    outcome = random.randint(1, 6)

    if outcome in [1, 2, 3]:  # –í—ã–∏–≥—Ä—ã—à
        return True, stake * 2  # –°—Ç–∞–≤–∫–∞ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è
    else:  # –ü—Ä–æ–∏–≥—Ä—ã—à
        return False, 0  # –°—Ç–∞–≤–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
won, reward = play_golden_roulette(100)
if won:
    print(f&quot;‚úÖ –í—ã–∏–≥—Ä—ã—à! –ü–æ–ª—É—á–∏–ª–∏ {reward} –∫–æ–∏–Ω–æ–≤&quot;)
else:
    print(&quot;‚ùå –ü—Ä–æ–∏–≥—Ä—ã—à! –°—Ç–∞–≤–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–∞&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
<pre class="codehilite"><code class="language-python"># –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã
async def golden_roulette_cycle(user_id: int, stake: int, db_path: str):
    &quot;&quot;&quot;–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã –≤ –∑–æ–ª–æ—Ç—É—é —Ä—É–ª–µ—Ç–∫—É&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å
    current_balance = cursor.execute(
        &quot;SELECT meshok FROM farma WHERE user_id = ?&quot;,
        (user_id,)
    ).fetchone()[0]

    if current_balance &lt; stake:
        return False, &quot;–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–∏–Ω–æ–≤&quot;

    # –í—ã—á–∏—Ç–∞–µ–º —Å—Ç–∞–≤–∫—É
    cursor.execute(
        &quot;UPDATE farma SET meshok = ? WHERE user_id = ?&quot;,
        (current_balance - stake, user_id)
    )

    # –ü—Ä–æ–≤–æ–¥–∏–º –∏–≥—Ä—É
    won, reward = play_golden_roulette(stake)

    if won:
        # –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à
        new_balance = current_balance - stake + reward
        result_text = f&quot;‚úÖ –í—ã–∏–≥—Ä—ã—à! +{reward} –∫–æ–∏–Ω–æ–≤&quot;
    else:
        new_balance = current_balance - stake
        result_text = &quot;‚ùå –ü—Ä–æ–∏–≥—Ä—ã—à! –°—Ç–∞–≤–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–∞&quot;

    cursor.execute(
        &quot;UPDATE farma SET meshok = ? WHERE user_id = ?&quot;,
        (new_balance, user_id)
    )

    connection.commit()
    connection.close()

    return True, result_text
</code></pre>

<hr />
<h2>üî´ Russian Roulette (–†—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞)</h2>
<h3>–û–±–∑–æ—Ä</h3>
<p>–û–ø–∞—Å–Ω–∞—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞: —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 1/6 –ø–æ–ª—É—á–∞–µ—Ç–µ 5-–º–∏–Ω—É—Ç–Ω—ã–π –º—É—Ç. –≠—Ç–æ —á–∏—Å—Ç—ã–π —Ä–∏—Å–∫, –¥–µ–Ω—å–≥–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.</p>
<h3>–û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</h3>
<pre class="codehilite"><code class="language-python">@dp.message_handler(Text(startswith=[
    &quot;! —Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;!—Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;.—Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;/—Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;,
    &quot;—Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞&quot;
], ignore_case=True))
async def russian_roulette(message: types.Message):
    &quot;&quot;&quot;
    –ò–≥—Ä–∞–µ–º –≤ —Ä—É—Å—Å–∫—É—é —Ä—É–ª–µ—Ç–∫—É
    1/6 –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º—É—Ç–∞ –Ω–∞ 5 –º–∏–Ω—É—Ç
    5/6 –≤—ã–∂–∏–≤–∞–µ—à—å
    &quot;&quot;&quot;
</code></pre>

<h3>–õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã</h3>
<pre class="codehilite"><code class="language-python">def play_russian_roulette() -&gt; bool:
    &quot;&quot;&quot;–ü—Ä–æ–≤–æ–¥–∏—Ç —Ä–∞—É–Ω–¥ —Ä—É—Å—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏&quot;&quot;&quot;
    # 1 –∏–∑ 6 —à–∞–Ω—Å –º—É—Ç–∞
    outcome = random.randint(1, 6)
    return outcome == 1  # True = –º—É—Ç, False = –≤—ã–∂–∏–ª

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
got_muted = play_russian_roulette()
if got_muted:
    print(&quot;‚ùå –ü–æ–ª—É—á–∏–ª –º—É—Ç –Ω–∞ 5 –º–∏–Ω—É—Ç!&quot;)
else:
    print(&quot;‚úÖ –í—ã–∂–∏–ª!&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
<pre class="codehilite"><code class="language-python"># –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å –º—É—Ç–æ–º
async def russian_roulette_cycle(user_id: int, chat_id: int, bot: Bot):
    &quot;&quot;&quot;–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä—É—Å—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º—É—Ç–∞&quot;&quot;&quot;
    MUTE_TIME = 5  # –º–∏–Ω—É—Ç

    got_muted = play_russian_roulette()

    if got_muted:
        # –ü—Ä–∏–º–µ–Ω—è–µ–º –º—É—Ç
        permissions = ChatPermissions(can_send_messages=False)
        mute_until = datetime.now() + timedelta(minutes=MUTE_TIME)

        await bot.restrict_chat_member(
            chat_id=chat_id,
            user_id=user_id,
            permissions=permissions,
            until_date=mute_until
        )
        return &quot;‚ùå –ü–æ–ª—É—á–∏–ª –º—É—Ç –Ω–∞ 5 –º–∏–Ω—É—Ç!&quot;
    else:
        return &quot;‚úÖ –í—ã–∂–∏–ª! üéâ&quot;

# –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä—É—Å—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏
def get_russian_roulette_stats(user_id: int, db_path: str) -&gt; dict:
    &quot;&quot;&quot;–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞ –≤ —Ä—É—Å—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–µ&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        # –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS russian_roulette_history (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                user_id INTEGER,
                chat_id INTEGER,
                got_muted INTEGER,
                timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        ''')

        # –í—Å–µ–≥–æ –∏–≥—Ä
        total_games = cursor.execute(
            &quot;SELECT COUNT(*) FROM russian_roulette_history WHERE user_id = ?&quot;,
            (user_id,)
        ).fetchone()[0]

        # –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–ª—É—á–∏–ª –º—É—Ç
        muted_times = cursor.execute(
            &quot;SELECT COUNT(*) FROM russian_roulette_history WHERE user_id = ? AND got_muted = 1&quot;,
            (user_id,)
        ).fetchone()[0]

        survive_rate = ((total_games - muted_times) / total_games * 100) if total_games &gt; 0 else 0

        return {
            &quot;total_games&quot;: total_games,
            &quot;muted_times&quot;: muted_times,
            &quot;survive_rate&quot;: survive_rate
        }
    finally:
        connection.close()
</code></pre>

<hr />
<h2>üéØ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Ä—É–ª–µ—Ç–æ–∫</h2>
<table>
<thead>
<tr>
<th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th>
<th>Golden Roulette</th>
<th>Russian Roulette</th>
</tr>
</thead>
<tbody>
<tr>
<td>–¢–∏–ø –∏–≥—Ä—ã</td>
<td>–ê–∑–∞—Ä—Ç–Ω–∞—è</td>
<td>–†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è</td>
</tr>
<tr>
<td>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–∏–Ω—ã</td>
<td>‚úÖ –î–∞</td>
<td>‚ùå –ù–µ—Ç</td>
</tr>
<tr>
<td>–®–∞–Ω—Å –≤—ã–∏–≥—Ä—ã—à–∞</td>
<td>50% (3/6)</td>
<td>83% (5/6)</td>
</tr>
<tr>
<td>–®–∞–Ω—Å –ø—Ä–æ–∏–≥—Ä—ã—à–∞</td>
<td>50% (3/6)</td>
<td>17% (1/6)</td>
</tr>
<tr>
<td>–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–∏–≥—Ä—ã—à–∞</td>
<td>–ü–æ—Ç–µ—Ä—è –∫–æ–∏–Ω–æ–≤</td>
<td>5-–º–∏–Ω—É—Ç–Ω—ã–π –º—É—Ç</td>
</tr>
<tr>
<td>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∏–≥—Ä—ã—à–∞</td>
<td>–£–¥–≤–æ–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏</td>
<td>–ü—Ä–æ—Å—Ç–æ –≤—ã–∂–∏–≤–∞–Ω–∏–µ</td>
</tr>
<tr>
<td>–ö—É–ª–¥–∞—É–Ω</td>
<td>–ó–∞–≤–∏—Å–∏—Ç</td>
<td>–ù–µ—Ç</td>
</tr>
<tr>
<td>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</td>
<td>–î–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π —Ä–∏—Å–∫–∞</td>
<td>–î–ª—è –≤–µ—Å–µ–ª—å—è</td>
</tr>
</tbody>
</table>
<hr />
<h2>‚öôÔ∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
<h3>–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞</h3>
<pre class="codehilite"><code class="language-python"># Golden Roulette –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫—É–ª–¥–∞—É–Ω
# Russian Roulette –º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å—Å—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∫—É–ª–¥–∞—É–Ω –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
</code></pre>

<h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞</h3>
<pre class="codehilite"><code class="language-python"># –û–±–∞ –º–æ–¥—É–ª—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–¥ –∏–≥—Ä–æ–π
if message.from_user.id in black_list:
    await message.answer(&quot;–í –¥–æ—Å—Ç—É–ø–µ –æ—Ç–∫–∞–∑–∞–Ω–æ&quot;)
    return
</code></pre>

<hr />
<h2>üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</h2>
<h3>–ò–¥–µ—è 1: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞</h3>
<pre class="codehilite"><code class="language-python">async def super_roulette(user_id: int, stake: int, db_path: str):
    &quot;&quot;&quot;–°—É–ø–µ—Ä—Ä—É–ª–µ—Ç–∫–∞: –∏–≥—Ä–∞–µ–º –Ω–∞ –∫–æ–∏–Ω—ã –ò —Ä–∏—Å–∫—É–µ–º –º—É—Ç–æ–º&quot;&quot;&quot;
    won_money, got_muted = play_golden_roulette(stake), play_russian_roulette()

    if got_muted:
        return {
            &quot;money_result&quot;: won_money,
            &quot;muted&quot;: True,
            &quot;message&quot;: &quot;–í—ã–∏–≥—Ä–∞–ª –¥–µ–Ω—å–≥–∏ –Ω–æ –ø–æ–ª—É—á–∏–ª –º—É—Ç!&quot;
        }
    else:
        return {
            &quot;money_result&quot;: won_money,
            &quot;muted&quot;: False,
            &quot;message&quot;: &quot;–í—ã–∏–≥—Ä–∞–ª –∏ –Ω–µ –ø–æ–ª—É—á–∏–ª –º—É—Ç!&quot;
        }
</code></pre>

<h3>–ò–¥–µ—è 2: –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä—É—é—â–∏–π –º—É—Ç</h3>
<pre class="codehilite"><code class="language-python">def get_mute_duration(previous_mutes: int) -&gt; int:
    &quot;&quot;&quot;–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º—É—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ç–æ—Ä–∏–∏&quot;&quot;&quot;
    # –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –º—É—Ç –¥–æ–ª—å—à–µ
    base = 5  # 5 –º–∏–Ω—É—Ç
    multiplier = 1 + (previous_mutes * 0.5)
    return int(base * multiplier)
</code></pre>

<h3>–ò–¥–µ—è 3: –°–µ—Ä–∏–∏ –ø–æ–±–µ–¥/–ø–æ—Ä–∞–∂–µ–Ω–∏–π</h3>
<pre class="codehilite"><code class="language-python">def calculate_streak_bonus(streak: int) -&gt; float:
    &quot;&quot;&quot;–ë–æ–Ω—É—Å –∑–∞ —Å–µ—Ä–∏—é –ø–æ–±–µ–¥ –≤ –∑–æ–ª–æ—Ç–æ–π —Ä—É–ª–µ—Ç–∫–µ&quot;&quot;&quot;
    if streak &lt;= 1:
        return 1.0
    elif streak &lt;= 3:
        return 1.2
    elif streak &lt;= 5:
        return 1.5
    else:
        return 2.0  # –£–¥–≤–æ–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å –∑–∞ 5+ –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥
</code></pre>

<hr />
<h2>üìä –¢–∞–±–ª–∏—Ü—ã –ë–î</h2>
<h3>–¢–∞–±–ª–∏—Ü–∞ <code>golden_roulette_history</code> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS golden_roulette_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    chat_id INTEGER NOT NULL,
    stake INTEGER NOT NULL,
    won INTEGER NOT NULL,
    winnings INTEGER NOT NULL,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
</code></pre>

<h3>–¢–∞–±–ª–∏—Ü–∞ <code>russian_roulette_history</code> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS russian_roulette_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    chat_id INTEGER NOT NULL,
    got_muted INTEGER NOT NULL,
    mute_duration INTEGER,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
</code></pre>

<hr />
<h2>üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</h2>
<h3>–ü—Ä–æ–±–ª–µ–º–∞: –ú—É—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</h3>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –±–æ—Ç–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
<pre class="codehilite"><code class="language-python"># –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
await bot.restrict_chat_member(
    chat_id=chat_id,
    user_id=user_id,
    permissions=ChatPermissions(can_send_messages=False),
    until_date=datetime.now() + timedelta(minutes=5)
)
</code></pre>

<h3>–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–∏–Ω—ã –Ω–µ –≤—ã—á–∏—Ç–∞—é—Ç—Å—è</h3>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –≤—ã–∑–æ–≤–µ <code>connection.commit()</code></p>
<pre class="codehilite"><code class="language-python">cursor.execute(&quot;UPDATE farma SET meshok = ? WHERE user_id = ?&quot;, (new_balance, user_id))
connection.commit()  # ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
</code></pre>

<hr />
<h2>üìù –õ–∏—Ü–µ–Ω–∑–∏—è</h2>
<p>–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ WERTY | Chat-Manager Bot</p>
<hr />
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ:</strong> GitHub Copilot<br />
<strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> 20.12.2025</p>
        </div>

        <div class="content">
            <div class="nav-buttons">
                <a href="../html/index_site.html" class="nav-button prev">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>
                <a href="../html/index.html" class="nav-button">–ù–∞ –≥–ª–∞–≤–Ω—É—é ‚Üí</a>
            </div>
        </div>

        <footer>
            <p>Chat Manager Bot | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | –í–µ—Ä—Å–∏—è 2.0</p>
            <p style="margin-top: 10px;">
                <a href="../html/index.html">–ì–ª–∞–≤–Ω–∞—è</a> | 
                <a href="../html/index_site.html">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> | 
                <a href="../html/modules.html">–ú–æ–¥—É–ª–∏</a>
            </p>
        </footer>
    </div>
</body>
</html>
