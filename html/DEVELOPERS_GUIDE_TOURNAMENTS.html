<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ –ú–æ–¥—É–ª—å Tournaments (–¢—É—Ä–Ω–∏—Ä—ã) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            font-size: 0.9em;
            color: #666;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 40px;
        }

        .content h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content h2 {
            color: #764ba2;
            font-size: 1.6em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .content h3 {
            color: #667eea;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .content h4 {
            color: #764ba2;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .content p {
            line-height: 1.8;
            margin: 15px 0;
            color: #444;
        }

        .content ul, .content ol {
            margin: 15px 0;
            margin-left: 30px;
            line-height: 1.8;
        }

        .content li {
            margin: 8px 0;
            color: #444;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            font-size: 0.95em;
        }

        .content pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .content pre code {
            color: #333;
            padding: 0;
            background: none;
            font-size: 0.9em;
        }

        .content blockquote {
            border-left: 4px solid #667eea;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

        .content a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .content a:hover {
            border-bottom-color: #667eea;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .content table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .content table td {
            border: 1px solid #ddd;
            padding: 12px;
        }

        .content table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .content hr {
            border: none;
            border-top: 2px solid #667eea;
            margin: 30px 0;
        }

        .content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            justify-content: space-between;
        }

        .nav-button {
            display: inline-block;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-button:hover {
            background: #764ba2;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-button.prev {
            margin-right: auto;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .nav-button.prev {
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèÜ –ú–æ–¥—É–ª—å Tournaments (–¢—É—Ä–Ω–∏—Ä—ã) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</h1>
            <p style="opacity: 0.9; font-size: 1.1em;">Chat Manager Bot - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</p>
        </header>

        <div class="breadcrumb">
            <a href="../html/index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a> / 
            <a href="../html/index_site.html">üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> / 
            <span>üèÜ –ú–æ–¥—É–ª—å Tournaments (–¢—É—Ä–Ω–∏—Ä—ã) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</span>
        </div>

        <div class="content">
            
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–î–∞—Ç–∞:</strong> 20.12.2025<br />
<strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production<br />
<strong>–Ø–∑—ã–∫:</strong> Python 3.10+  </p>
<hr />
<h2>üìñ –û–±–∑–æ—Ä</h2>
<p>–ú–æ–¥—É–ª—å Tournaments (<code>modules/turnaments.py</code>) —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–∞–Ω–¥–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø–æ–±–µ–¥ –∏ –ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ–º –∏—Ç–æ–≥–æ–≤.</p>
<h3>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
<p>‚úÖ <strong>–°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤</strong> - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏<br />
‚úÖ <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</strong> - –∫–∞–∫ –ª–∏—á–Ω–∞—è, —Ç–∞–∫ –∏ –∫–æ–º–∞–Ω–¥–Ω–∞—è<br />
‚úÖ <strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–º</strong> - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ –≤—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏<br />
‚úÖ <strong>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–±–µ–¥</strong> - —Å–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ–Ω–∏—è —Å—á—ë—Ç–∞<br />
‚úÖ <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥</strong> - —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≥—Ä—É–ø–ø—ã<br />
‚úÖ <strong>–ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–Ω–∏—Ä–æ–≤</strong> - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î<br />
‚úÖ <strong>–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID</strong> - –∫–∞–∂–¥—ã–π —Ç—É—Ä–Ω–∏—Ä –∏–º–µ–µ—Ç —Å–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä  </p>
<hr />
<h2>üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
<h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—É—Ä–Ω–∏—Ä–∞</h3>
<pre class="codehilite"><code>–¢—É—Ä–Ω–∏—Ä
‚îú‚îÄ‚îÄ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ID (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π 8-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–æ–¥)
‚îÇ   ‚îú‚îÄ‚îÄ –ù–∞–∑–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä (ID + –∏–º—è)
‚îÇ   ‚îú‚îÄ‚îÄ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
‚îÇ   ‚îú‚îÄ‚îÄ –ú–∞–∫—Å–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ –†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ –û–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ –ü—Ä–∞–≤–∏–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—É—Å
‚îÇ   ‚îú‚îÄ‚îÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞/–∑–∞–∫—Ä—ã—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ –¢—É—Ä–Ω–∏—Ä –∏–¥—ë—Ç
‚îÇ   ‚îî‚îÄ‚îÄ –ó–∞–≤–µ—Ä—à—ë–Ω
‚îÇ
‚îú‚îÄ‚îÄ –£—á–∞—Å—Ç–Ω–∏–∫–∏/–ö–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö
‚îÇ   ‚îî‚îÄ‚îÄ –°—á—ë—Ç –ø–æ–±–µ–¥
‚îÇ
‚îî‚îÄ‚îÄ –ò—Å—Ç–æ—Ä–∏—è
    ‚îî‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î
</code></pre>

<hr />
<h2>üîå API —Ñ—É–Ω–∫—Ü–∏–π —Ç—É—Ä–Ω–∏—Ä–æ–≤</h2>
<h3>create_tournament()</h3>
<p>–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä.</p>
<pre class="codehilite"><code class="language-python">def create_tournament(
    moder_id: int,
    chat_id: int,
    name: str,
    date: str,          # &quot;HH:MM:SS DD.MM.YYYY&quot;
    max_participants: int,
    rules: str,
    comments: str,
    db_path: str = &quot;tournaments.db&quot;
) -&gt; tuple[bool, str]:
    &quot;&quot;&quot;
    –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: (—É—Å–ø–µ—Ö, ID_—Ç—É—Ä–Ω–∏—Ä–∞_–∏–ª–∏_—Å–æ–æ–±—â–µ–Ω–∏–µ_–æ–±_–æ—à–∏–±–∫–µ)
    &quot;&quot;&quot;
</code></pre>

<p><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</strong>
- <code>moder_id</code> (int): ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
- <code>chat_id</code> (int): ID —á–∞—Ç–∞, –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç—É—Ä–Ω–∏—Ä
- <code>name</code> (str): –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
- <code>date</code> (str): –î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "HH:MM:SS DD.MM.YYYY"
- <code>max_participants</code> (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (1-60)
- <code>rules</code> (str): –ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω–∏—Ä–∞
- <code>comments</code> (str): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- <code>db_path</code> (str): –ü—É—Ç—å –∫ –ë–î</p>
<p><strong>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:</strong>
- <code>(True, tournament_id)</code> - —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- <code>(False, error_message)</code> - –æ—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è</p>
<hr />
<h2>üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
<h3>–ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞</h3>
<pre class="codehilite"><code class="language-python">def create_tournament_example():
    &quot;&quot;&quot;–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞&quot;&quot;&quot;
    success, result = create_tournament(
        moder_id=123456,
        chat_id=-1001234567890,
        name=&quot;–ß–µ–º–ø–∏–æ–Ω–∞—Ç –ø–æ PvP 2025&quot;,
        date=&quot;18:00:00 25.12.2025&quot;,
        max_participants=16,
        rules=&quot;No items, Only weapons, Final –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ&quot;,
        comments=&quot;–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç 1000 —Ä—É–±–ª–µ–π&quot;,
        db_path=&quot;tournaments.db&quot;
    )

    if success:
        print(f&quot;‚úÖ –¢—É—Ä–Ω–∏—Ä —Å–æ–∑–¥–∞–Ω! ID: {result}&quot;)
    else:
        print(f&quot;‚ùå –û—à–∏–±–∫–∞: {result}&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
<pre class="codehilite"><code class="language-python">def register_participant(tournament_id: str, user_id: int, user_name: str, db_path: str) -&gt; bool:
    &quot;&quot;&quot;–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ —Ç—É—Ä–Ω–∏—Ä&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –º–µ—Å—Ç–æ
        cursor.execute(
            &quot;SELECT registered_count, max_participants FROM tournaments WHERE id = ?&quot;,
            (tournament_id,)
        )
        result = cursor.fetchone()

        if not result:
            return False

        registered_count, max_participants = result

        if registered_count &gt;= max_participants:
            return False  # –ù–µ—Ç –º–µ—Å—Ç–∞

        # –î–æ–±–∞–≤–ª—è–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞
        cursor.execute(
            &quot;INSERT INTO tournament_participants (tournament_id, user_id, user_name) VALUES (?, ?, ?)&quot;,
            (tournament_id, user_id, user_name)
        )

        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
        cursor.execute(
            &quot;UPDATE tournaments SET registered_count = registered_count + 1 WHERE id = ?&quot;,
            (tournament_id,)
        )

        connection.commit()
        return True
    finally:
        connection.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if register_participant(&quot;A1B2C3D4&quot;, 123456, &quot;Ivan&quot;, &quot;tournaments.db&quot;):
    print(&quot;‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞&quot;)
else:
    print(&quot;‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 3: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã</h3>
<pre class="codehilite"><code class="language-python">def register_team(tournament_id: str, captain_id: int, team_members: list[int], db_path: str) -&gt; bool:
    &quot;&quot;&quot;–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ —Ç—É—Ä–Ω–∏—Ä&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –∫–æ–º–∞–Ω–¥—ã
        import secrets
        team_id = f&quot;TEAM_{secrets.token_hex(4)}&quot;

        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É
        cursor.execute(
            &quot;INSERT INTO tournament_teams (tournament_id, team_id, captain_id) VALUES (?, ?, ?)&quot;,
            (tournament_id, team_id, captain_id)
        )

        # –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ—Ö —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã
        for member_id in team_members:
            cursor.execute(
                &quot;INSERT INTO tournament_team_members (team_id, user_id) VALUES (?, ?)&quot;,
                (team_id, member_id)
            )

        connection.commit()
        return True
    finally:
        connection.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
team_members = [123456, 234567, 345678, 456789]
if register_team(&quot;A1B2C3D4&quot;, 123456, team_members, &quot;tournaments.db&quot;):
    print(&quot;‚úÖ –ö–æ–º–∞–Ω–¥–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 4: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–±–µ–¥</h3>
<pre class="codehilite"><code class="language-python">def record_victory(tournament_id: str, team_id: str, db_path: str) -&gt; bool:
    &quot;&quot;&quot;–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–±–µ–¥—É –¥–ª—è –∫–æ–º–∞–Ω–¥—ã&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        cursor.execute(
            &quot;UPDATE tournament_teams SET wins = wins + 1 WHERE tournament_id = ? AND team_id = ?&quot;,
            (tournament_id, team_id)
        )

        connection.commit()
        return True
    finally:
        connection.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if record_victory(&quot;A1B2C3D4&quot;, &quot;TEAM_ABC123&quot;, &quot;tournaments.db&quot;):
    print(&quot;‚úÖ –ü–æ–±–µ–¥–∞ –∑–∞–ø–∏—Å–∞–Ω–∞&quot;)
</code></pre>

<h3>–ü—Ä–∏–º–µ—Ä 5: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–±–µ–¥</h3>
<pre class="codehilite"><code class="language-python">def get_tournament_leaderboard(tournament_id: str, db_path: str) -&gt; list:
    &quot;&quot;&quot;–ü–æ–ª—É—á–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤ —Ç—É—Ä–Ω–∏—Ä–∞&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    try:
        leaderboard = cursor.execute(
            &quot;SELECT team_id, captain_id, wins FROM tournament_teams WHERE tournament_id = ? ORDER BY wins DESC&quot;,
            (tournament_id,)
        ).fetchall()

        return leaderboard
    finally:
        connection.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
leaderboard = get_tournament_leaderboard(&quot;A1B2C3D4&quot;, &quot;tournaments.db&quot;)
for idx, (team_id, captain, wins) in enumerate(leaderboard, 1):
    print(f&quot;{idx}. –ö–æ–º–∞–Ω–¥–∞ {team_id} (–∫–∞–ø–∏—Ç–∞–Ω {captain}): {wins} –ø–æ–±–µ–¥&quot;)
</code></pre>

<hr />
<h2>üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>
<h3>–¢–∞–±–ª–∏—Ü–∞ <code>tournaments</code></h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS tournaments (
    id TEXT PRIMARY KEY,
    chat_id INTEGER NOT NULL,
    organizer_id INTEGER NOT NULL,
    organizer_name TEXT,
    name TEXT NOT NULL,
    date TEXT NOT NULL,
    max_participants INTEGER NOT NULL,
    registered_count INTEGER DEFAULT 0,
    rules TEXT,
    comments TEXT,
    status TEXT DEFAULT 'registration',  -- registration, active, finished
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
</code></pre>

<h3>–¢–∞–±–ª–∏—Ü–∞ <code>tournament_participants</code></h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS tournament_participants (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    tournament_id TEXT NOT NULL,
    user_id INTEGER NOT NULL,
    user_name TEXT,
    registered_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(tournament_id) REFERENCES tournaments(id)
)
</code></pre>

<h3>–¢–∞–±–ª–∏—Ü–∞ <code>tournament_teams</code></h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS tournament_teams (
    team_id TEXT PRIMARY KEY,
    tournament_id TEXT NOT NULL,
    captain_id INTEGER NOT NULL,
    wins INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(tournament_id) REFERENCES tournaments(id)
)
</code></pre>

<h3>–¢–∞–±–ª–∏—Ü–∞ <code>tournament_team_members</code></h3>
<pre class="codehilite"><code class="language-sql">CREATE TABLE IF NOT EXISTS tournament_team_members (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    team_id TEXT NOT NULL,
    user_id INTEGER NOT NULL,
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(team_id) REFERENCES tournament_teams(team_id)
)
</code></pre>

<hr />
<h2>üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</h2>
<h3>–ò–¥–µ—è 1: –°–∏—Å—Ç–µ–º–∞ –ø–ª–µ–π-–æ—Ñ—Ñ</h3>
<pre class="codehilite"><code class="language-python">def generate_playoff_bracket(tournament_id: str, db_path: str) -&gt; list[tuple]:
    &quot;&quot;&quot;–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–æ–Ω—à—Ç–µ–π–Ω –ø–ª–µ–π-–æ—Ñ—Ñ –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ –ø–æ–±–µ–¥
    participants = cursor.execute(
        &quot;SELECT team_id FROM tournament_teams WHERE tournament_id = ? ORDER BY wins DESC&quot;,
        (tournament_id,)
    ).fetchall()

    connection.close()

    # –°–æ–∑–¥–∞—ë–º –º–∞—Ç—á–∏: 1 vs 2, 3 vs 4, –∏ —Ç.–¥.
    bracket = []
    for i in range(0, len(participants), 2):
        if i + 1 &lt; len(participants):
            bracket.append((participants[i][0], participants[i+1][0]))

    return bracket
</code></pre>

<h3>–ò–¥–µ—è 2: –°–∏—Å—Ç–µ–º–∞ –≥—Ä—É–ø–ø</h3>
<pre class="codehilite"><code class="language-python">def divide_into_groups(tournament_id: str, group_size: int = 4, db_path: str = &quot;tournaments.db&quot;) -&gt; dict:
    &quot;&quot;&quot;–†–∞–∑–¥–µ–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –≥—Ä—É–ø–ø—ã&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    participants = cursor.execute(
        &quot;SELECT user_id FROM tournament_participants WHERE tournament_id = ?&quot;,
        (tournament_id,)
    ).fetchall()

    connection.close()

    groups = {}
    for i, (user_id,) in enumerate(participants):
        group_num = i // group_size
        if group_num not in groups:
            groups[group_num] = []
        groups[group_num].append(user_id)

    return groups
</code></pre>

<h3>–ò–¥–µ—è 3: –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤</h3>
<pre class="codehilite"><code class="language-python">def calculate_tournament_rating(user_id: int, db_path: str) -&gt; float:
    &quot;&quot;&quot;–†–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤&quot;&quot;&quot;
    connection = sqlite3.connect(db_path, check_same_thread=False)
    cursor = connection.cursor()

    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ç—É—Ä–Ω–∏—Ä—ã –≥–¥–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –∏–≥—Ä–æ–∫
    tournaments = cursor.execute(
        &quot;SELECT t.id, t.max_participants, tt.wins FROM tournaments t &quot;
        &quot;JOIN tournament_teams tt ON t.id = tt.tournament_id &quot;
        &quot;WHERE tt.captain_id = ?&quot;,
        (user_id,)
    ).fetchall()

    connection.close()

    rating = 0
    for tournament_id, max_participants, wins in tournaments:
        # –†–µ–π—Ç–∏–Ω–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ç—É—Ä–Ω–∏—Ä–∞ –∏ –ø–æ–±–µ–¥
        tournament_rating = (wins / max_participants) * 100
        rating += tournament_rating

    return rating
</code></pre>

<hr />
<h2>üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</h2>
<h3>–ü—Ä–æ–±–ª–µ–º–∞: "–¢—É—Ä–Ω–∏—Ä –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è"</h3>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã</p>
<pre class="codehilite"><code class="language-python"># ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
date = &quot;18:00:00 25.12.2025&quot;
datetime.strptime(date, &quot;%H:%M:%S %d.%m.%Y&quot;)

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
date = &quot;25.12.2025 18:00:00&quot;  # –ù–µ–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
</code></pre>

<h3>–ü—Ä–æ–±–ª–µ–º–∞: "ID —Ç—É—Ä–Ω–∏—Ä–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π"</h3>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 8-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–æ–¥</p>
<pre class="codehilite"><code class="language-python">from password_generator import PasswordGenerator

pwo = PasswordGenerator()
tournament_id = pwo.shuffle_password('ASDFGHJKL12345678', 8)  # –†–æ–≤–Ω–æ 8 —Å–∏–º–≤–æ–ª–æ–≤
</code></pre>

<h3>–ü—Ä–æ–±–ª–µ–º–∞: "–ö–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ"</h3>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≥—Ä—É–ø–ø—ã</p>
<pre class="codehilite"><code class="language-python"># –ü–æ–ª—É—á–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ç—É—Ä–Ω–∏—Ä–∞
tournament_info = cursor.execute(
    &quot;SELECT team_size FROM tournaments WHERE id = ?&quot;,
    (tournament_id,)
).fetchone()

team_size = tournament_info[0] if tournament_info else 1
</code></pre>

<hr />
<h2>üìù –õ–∏—Ü–µ–Ω–∑–∏—è</h2>
<p>–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ WERTY | Chat-Manager Bot</p>
<hr />
<p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0<br />
<strong>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ:</strong> GitHub Copilot<br />
<strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> 20.12.2025</p>
        </div>

        <div class="content">
            <div class="nav-buttons">
                <a href="../html/index_site.html" class="nav-button prev">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>
                <a href="../html/index.html" class="nav-button">–ù–∞ –≥–ª–∞–≤–Ω—É—é ‚Üí</a>
            </div>
        </div>

        <footer>
            <p>Chat Manager Bot | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | –í–µ—Ä—Å–∏—è 2.0</p>
            <p style="margin-top: 10px;">
                <a href="../html/index.html">–ì–ª–∞–≤–Ω–∞—è</a> | 
                <a href="../html/index_site.html">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> | 
                <a href="../html/modules.html">–ú–æ–¥—É–ª–∏</a>
            </p>
        </footer>
    </div>
</body>
</html>
